require 'test_helper'

class AcceptanceTest < Minitest::Test

  def test_expected_take_home_pay
    Timecop.freeze(Date.parse('2017-12-14')) do
      r = FortuneTeller::Benchmark.create_sim
      assert_equal 949375, r.initial_take_home_pay
    end    
  end

  def test_expected_results
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      r = FortuneTeller::Benchmark.run.as_json
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_results"
      print_results(result)
      puts "END PRINT test_expected_results"
    end

    result.zip(expected_no_reallocation) do |actual, expected|
      assert_equal expected, actual
    end
  end

  def test_expected_cashflow
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      r = FortuneTeller::Benchmark.run.as_json
    end

    result, expected = [result, expected_no_reallocation].map do |transform|
      transform.map do |r| 
        {date: r["date"], cashflow: r["cashflow"]}
      end
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_cashflow"
      print_results(result)
      puts "END PRINT test_expected_cashflow"
    end

    result.zip(expected) do |a, e|
      assert_equal e, a
    end
  end

  def test_expected_results_guaranteed_income
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      sim = FortuneTeller::Benchmark.create_sim_guaranteed_income
      context = FortuneTeller::Benchmark.default_context
      sim.simulate(**context).as_json
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_results_guaranteed_income"
      print_results(result)
      puts "END PRINT test_expected_results_guaranteed_income"
    end

    result.zip(expected_guaranteed_income) do |actual, expected|
      assert_equal expected, actual
    end
  end

  def test_expected_results_tax_sequence
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      sim = FortuneTeller::Benchmark.create_sim_tax_sequence
      context = FortuneTeller::Benchmark.default_context
      sim.simulate(**context).as_json
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_results_tax_sequence"
      print_results(result)
      puts "END PRINT test_expected_results_tax_sequence"
    end

    result.zip(expected_tax_sequence) do |actual, expected|
      assert_equal expected, actual
    end
  end

  def test_expected_results_percent_spending
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      sim = FortuneTeller::Benchmark.create_sim_percent_spending
      context = FortuneTeller::Benchmark.default_context
      sim.simulate(**context).as_json
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_results_percent_spending"
      print_results(result)
      puts "END PRINT test_expected_results_percent_spending"
    end

    result.zip(expected_percent_spending) do |actual, expected|
      assert_equal expected, actual
    end
  end  

  def test_expected_results_5050
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      sim = FortuneTeller::Benchmark.create_sim
      sim.set_allocation_strategy(:annual, {stocks: [5000], bonds: [5000]})
      context = FortuneTeller::Benchmark.default_context
      sim.simulate(**context).as_json
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_results_5050"
      print_results(result)
      puts "END PRINT test_expected_results_5050"
    end

    result.zip(expected_5050_reallocation) do |actual, expected|
      assert_equal expected, actual
    end
  end

  def test_expected_cashflow_5050
    result = Timecop.freeze(Date.parse('2017-12-14')) do
      sim = FortuneTeller::Benchmark.create_sim
      sim.set_allocation_strategy(:annual, {stocks: [5000], bonds: [5000]})
      context = FortuneTeller::Benchmark.default_context
      sim.simulate(**context).as_json
    end

    result, expected = [result, expected_5050_reallocation].map do |transform|
      transform.map do |r| 
        {date: r["date"], cashflow: r["cashflow"]}
      end
    end

    if ENV['PRINT_ACCEPTANCE']
      puts "PRINT test_expected_cashflow_5050"
      print_results(result)
      puts "END PRINT test_expected_cashflow_5050"
    end

    result.zip(expected) do |a, e|
      assert_equal e, a
    end
  end

  def test_state_independence
    # create two sims, run one first through a set of crazy params, and
    # then both through the same params. the results should match up.
    sim1 = FortuneTeller::Benchmark.create_sim
    sim2 = FortuneTeller::Benchmark.create_sim

    sim1.simulate(growth_rates:
      {
        stocks:       [1.15],
        bonds:        [1.45],
        wage_growth:  [1.30],
        inflation:    [1.12]
      }
    )

    res1 = sim1.simulate(
      growth_rates: {
        stocks:       [1.05],
        bonds:        [1.05],
        wage_growth:  [1.00],
        inflation:    [1.02]
      }
    ).as_json

    res2 = sim2.simulate(
      growth_rates: {
        stocks:       [1.05],
        bonds:        [1.05],
        wage_growth:  [1.00],
        inflation:    [1.02]
      }
    ).as_json

    res1.as_json.zip(res2).each do |line1, line2|
      assert_equal line1, line2
    end
  end

  def expected_percent_spending
    [
      {"date"=>"2017-12-14", "accounts"=>{"AA"=>{"date"=>"2017-12-14", "total_balance"=>50000000, "type"=>"_401k", "balances"=>{"stocks"=>30000000, "bonds"=>20000000}}, "AD"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>20000000}}}, "cashflow"=>{"pretax"=>{}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>0}}},
      {"date"=>"2018-01-01", "accounts"=>{"AA"=>{"date"=>"2018-01-01", "total_balance"=>50125051, "type"=>"_401k", "balances"=>{"stocks"=>30086330, "bonds"=>20038721}}, "AD"=>{"date"=>"2018-01-01", "total_balance"=>20057553, "type"=>"_401k", "balances"=>{"stocks"=>20057553}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2019-01-01", "accounts"=>{"AA"=>{"date"=>"2019-01-01", "total_balance"=>53764116, "type"=>"_401k", "balances"=>{"stocks"=>32923847, "bonds"=>20840269}}, "AD"=>{"date"=>"2019-01-01", "total_balance"=>22035261, "type"=>"_401k", "balances"=>{"stocks"=>22035261}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2020-01-01", "accounts"=>{"AA"=>{"date"=>"2020-01-01", "total_balance"=>57605493, "type"=>"_401k", "balances"=>{"stocks"=>35931615, "bonds"=>21673878}}, "AD"=>{"date"=>"2020-01-01", "total_balance"=>24131633, "type"=>"_401k", "balances"=>{"stocks"=>24131633}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2021-01-01", "accounts"=>{"AA"=>{"date"=>"2021-01-01", "total_balance"=>61669213, "type"=>"_401k", "balances"=>{"stocks"=>39125958, "bonds"=>22543255}}, "AD"=>{"date"=>"2021-01-01", "total_balance"=>26357891, "type"=>"_401k", "balances"=>{"stocks"=>26357891}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2022-01-01", "accounts"=>{"AA"=>{"date"=>"2022-01-01", "total_balance"=>65950837, "type"=>"_401k", "balances"=>{"stocks"=>42505851, "bonds"=>23444986}}, "AD"=>{"date"=>"2022-01-01", "total_balance"=>28713621, "type"=>"_401k", "balances"=>{"stocks"=>28713621}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2023-01-01", "accounts"=>{"AA"=>{"date"=>"2023-01-01", "total_balance"=>70471326, "type"=>"_401k", "balances"=>{"stocks"=>46088541, "bonds"=>24382785}}, "AD"=>{"date"=>"2023-01-01", "total_balance"=>31210694, "type"=>"_401k", "balances"=>{"stocks"=>31210694}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2024-01-01", "accounts"=>{"AA"=>{"date"=>"2024-01-01", "total_balance"=>75244286, "type"=>"_401k", "balances"=>{"stocks"=>49886191, "bonds"=>25358095}}, "AD"=>{"date"=>"2024-01-01", "total_balance"=>33857592, "type"=>"_401k", "balances"=>{"stocks"=>33857592}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2025-01-01", "accounts"=>{"AA"=>{"date"=>"2025-01-01", "total_balance"=>80295425, "type"=>"_401k", "balances"=>{"stocks"=>53920171, "bonds"=>26375254}}, "AD"=>{"date"=>"2025-01-01", "total_balance"=>36669054, "type"=>"_401k", "balances"=>{"stocks"=>36669054}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2026-01-01", "accounts"=>{"AA"=>{"date"=>"2026-01-01", "total_balance"=>85617984, "type"=>"_401k", "balances"=>{"stocks"=>58187720, "bonds"=>27430264}}, "AD"=>{"date"=>"2026-01-01", "total_balance"=>39643454, "type"=>"_401k", "balances"=>{"stocks"=>39643454}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2027-01-01", "accounts"=>{"AA"=>{"date"=>"2027-01-01", "total_balance"=>91238794, "type"=>"_401k", "balances"=>{"stocks"=>62711320, "bonds"=>28527474}}, "AD"=>{"date"=>"2027-01-01", "total_balance"=>42796318, "type"=>"_401k", "balances"=>{"stocks"=>42796318}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2028-01-01", "accounts"=>{"AA"=>{"date"=>"2028-01-01", "total_balance"=>97174911, "type"=>"_401k", "balances"=>{"stocks"=>67506337, "bonds"=>29668574}}, "AD"=>{"date"=>"2028-01-01", "total_balance"=>46138353, "type"=>"_401k", "balances"=>{"stocks"=>46138353}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2029-01-01", "accounts"=>{"AA"=>{"date"=>"2029-01-01", "total_balance"=>103459138, "type"=>"_401k", "balances"=>{"stocks"=>72600506, "bonds"=>30858632}}, "AD"=>{"date"=>"2029-01-01", "total_balance"=>49688739, "type"=>"_401k", "balances"=>{"stocks"=>49688739}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2030-01-01", "accounts"=>{"AA"=>{"date"=>"2030-01-01", "total_balance"=>110081852, "type"=>"_401k", "balances"=>{"stocks"=>77988874, "bonds"=>32092978}}, "AD"=>{"date"=>"2030-01-01", "total_balance"=>53444320, "type"=>"_401k", "balances"=>{"stocks"=>53444320}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2031-01-01", "accounts"=>{"AA"=>{"date"=>"2031-01-01", "total_balance"=>117077240, "type"=>"_401k", "balances"=>{"stocks"=>83700544, "bonds"=>33376696}}, "AD"=>{"date"=>"2031-01-01", "total_balance"=>57425236, "type"=>"_401k", "balances"=>{"stocks"=>57425236}}}, "cashflow"=>{"pretax"=>{"w2_income"=>8525000, "ss_income"=>3963850}, "posttax"=>{"w2_income"=>7033125, "gty_income"=>0, "ss_income"=>3963850, "qualified_withdrawal"=>4849460, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15846435}}},
      {"date"=>"2032-01-01", "accounts"=>{"AA"=>{"date"=>"2032-01-01", "total_balance"=>120538251, "type"=>"_401k", "balances"=>{"stocks"=>86689243, "bonds"=>33849008}}, "AD"=>{"date"=>"2032-01-01", "total_balance"=>58619763, "type"=>"_401k", "balances"=>{"stocks"=>58619763}}}, "cashflow"=>{"pretax"=>{"w2_income"=>6975000, "ss_income"=>4851756}, "posttax"=>{"w2_income"=>5754375, "gty_income"=>0, "ss_income"=>4851756, "qualified_withdrawal"=>5935740, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16541871}}},
      {"date"=>"2033-01-01", "accounts"=>{"AA"=>{"date"=>"2033-01-01", "total_balance"=>123318408, "type"=>"_401k", "balances"=>{"stocks"=>89162386, "bonds"=>34156022}}, "AD"=>{"date"=>"2033-01-01", "total_balance"=>59201365, "type"=>"_401k", "balances"=>{"stocks"=>59201365}}}, "cashflow"=>{"pretax"=>{"w2_income"=>2325000, "ss_income"=>5748788}, "posttax"=>{"w2_income"=>1918125, "gty_income"=>0, "ss_income"=>5748788, "qualified_withdrawal"=>6054456, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13721369}}},
      {"date"=>"2034-01-01", "accounts"=>{"AA"=>{"date"=>"2034-01-01", "total_balance"=>126165184, "type"=>"_401k", "balances"=>{"stocks"=>91699890, "bonds"=>34465294}}, "AD"=>{"date"=>"2034-01-01", "total_balance"=>59173272, "type"=>"_401k", "balances"=>{"stocks"=>59173272}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6271764}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6271764, "qualified_withdrawal"=>6175548, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12447312}}},
      {"date"=>"2035-01-01", "accounts"=>{"AA"=>{"date"=>"2035-01-01", "total_balance"=>129098908, "type"=>"_401k", "balances"=>{"stocks"=>94318336, "bonds"=>34780572}}, "AD"=>{"date"=>"2035-01-01", "total_balance"=>58756351, "type"=>"_401k", "balances"=>{"stocks"=>58756351}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6397200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6397200, "qualified_withdrawal"=>6299052, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12696252}}},
      {"date"=>"2036-01-01", "accounts"=>{"AA"=>{"date"=>"2036-01-01", "total_balance"=>132123124, "type"=>"_401k", "balances"=>{"stocks"=>97020977, "bonds"=>35102147}}, "AD"=>{"date"=>"2036-01-01", "total_balance"=>58235080, "type"=>"_401k", "balances"=>{"stocks"=>58235080}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6525144}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6525144, "qualified_withdrawal"=>6425040, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12950184}}},
      {"date"=>"2037-01-01", "accounts"=>{"AA"=>{"date"=>"2037-01-01", "total_balance"=>135261300, "type"=>"_401k", "balances"=>{"stocks"=>99827186, "bonds"=>35434114}}, "AD"=>{"date"=>"2037-01-01", "total_balance"=>57610779, "type"=>"_401k", "balances"=>{"stocks"=>57610779}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6655644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6655644, "qualified_withdrawal"=>6553536, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13209180}}},
      {"date"=>"2038-01-01", "accounts"=>{"AA"=>{"date"=>"2038-01-01", "total_balance"=>138478951, "type"=>"_401k", "balances"=>{"stocks"=>102709588, "bonds"=>35769363}}, "AD"=>{"date"=>"2038-01-01", "total_balance"=>56857271, "type"=>"_401k", "balances"=>{"stocks"=>56857271}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6788760}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6788760, "qualified_withdrawal"=>6684612, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13473372}}},
      {"date"=>"2039-01-01", "accounts"=>{"AA"=>{"date"=>"2039-01-01", "total_balance"=>141798868, "type"=>"_401k", "balances"=>{"stocks"=>105687042, "bonds"=>36111826}}, "AD"=>{"date"=>"2039-01-01", "total_balance"=>55974359, "type"=>"_401k", "balances"=>{"stocks"=>55974359}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6924528}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6924528, "qualified_withdrawal"=>6818304, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13742832}}},
      {"date"=>"2040-01-01", "accounts"=>{"AA"=>{"date"=>"2040-01-01", "total_balance"=>145225365, "type"=>"_401k", "balances"=>{"stocks"=>108763537, "bonds"=>36461828}}, "AD"=>{"date"=>"2040-01-01", "total_balance"=>54952574, "type"=>"_401k", "balances"=>{"stocks"=>54952574}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7063032}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7063032, "qualified_withdrawal"=>6954660, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14017692}}},
      {"date"=>"2041-01-01", "accounts"=>{"AA"=>{"date"=>"2041-01-01", "total_balance"=>148784796, "type"=>"_401k", "balances"=>{"stocks"=>111961124, "bonds"=>36823672}}, "AD"=>{"date"=>"2041-01-01", "total_balance"=>53790479, "type"=>"_401k", "balances"=>{"stocks"=>53790479}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7204284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7204284, "qualified_withdrawal"=>7093752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14298036}}},
      {"date"=>"2042-01-01", "accounts"=>{"AA"=>{"date"=>"2042-01-01", "total_balance"=>152439496, "type"=>"_401k", "balances"=>{"stocks"=>115249479, "bonds"=>37190017}}, "AD"=>{"date"=>"2042-01-01", "total_balance"=>52460713, "type"=>"_401k", "balances"=>{"stocks"=>52460713}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7348368}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7348368, "qualified_withdrawal"=>7235628, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14583996}}},
      {"date"=>"2043-01-01", "accounts"=>{"AA"=>{"date"=>"2043-01-01", "total_balance"=>156215117, "type"=>"_401k", "balances"=>{"stocks"=>118650141, "bonds"=>37564976}}, "AD"=>{"date"=>"2043-01-01", "total_balance"=>50960023, "type"=>"_401k", "balances"=>{"stocks"=>50960023}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7495332}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7495332, "qualified_withdrawal"=>7380348, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14875680}}},
      {"date"=>"2044-01-01", "accounts"=>{"AA"=>{"date"=>"2044-01-01", "total_balance"=>160116921, "type"=>"_401k", "balances"=>{"stocks"=>122167978, "bonds"=>37948943}}, "AD"=>{"date"=>"2044-01-01", "total_balance"=>49276321, "type"=>"_401k", "balances"=>{"stocks"=>49276321}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7645236}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7645236, "qualified_withdrawal"=>7527948, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15173184}}},
      {"date"=>"2045-01-01", "accounts"=>{"AA"=>{"date"=>"2045-01-01", "total_balance"=>164174646, "type"=>"_401k", "balances"=>{"stocks"=>125828198, "bonds"=>38346448}}, "AD"=>{"date"=>"2045-01-01", "total_balance"=>47404336, "type"=>"_401k", "balances"=>{"stocks"=>47404336}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7798152}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7798152, "qualified_withdrawal"=>7678512, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15476664}}},
      {"date"=>"2046-01-01", "accounts"=>{"AA"=>{"date"=>"2046-01-01", "total_balance"=>168347069, "type"=>"_401k", "balances"=>{"stocks"=>129597201, "bonds"=>38749868}}, "AD"=>{"date"=>"2046-01-01", "total_balance"=>45315729, "type"=>"_401k", "balances"=>{"stocks"=>45315729}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7954116}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7954116, "qualified_withdrawal"=>7832076, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15786192}}},
      {"date"=>"2047-01-01", "accounts"=>{"AA"=>{"date"=>"2047-01-01", "total_balance"=>172663224, "type"=>"_401k", "balances"=>{"stocks"=>133499653, "bonds"=>39163571}}, "AD"=>{"date"=>"2047-01-01", "total_balance"=>43003162, "type"=>"_401k", "balances"=>{"stocks"=>43003162}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8113200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8113200, "qualified_withdrawal"=>7988724, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16101924}}},
      {"date"=>"2048-01-01", "accounts"=>{"AA"=>{"date"=>"2048-01-01", "total_balance"=>177129546, "type"=>"_401k", "balances"=>{"stocks"=>137541552, "bonds"=>39587994}}, "AD"=>{"date"=>"2048-01-01", "total_balance"=>40451213, "type"=>"_401k", "balances"=>{"stocks"=>40451213}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8275464}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8275464, "qualified_withdrawal"=>8148492, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16423956}}},
      {"date"=>"2049-01-01", "accounts"=>{"AA"=>{"date"=>"2049-01-01", "total_balance"=>181779760, "type"=>"_401k", "balances"=>{"stocks"=>141751831, "bonds"=>40027929}}, "AD"=>{"date"=>"2049-01-01", "total_balance"=>37649520, "type"=>"_401k", "balances"=>{"stocks"=>37649520}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8440968}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8440968, "qualified_withdrawal"=>8311464, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16752432}}},
      {"date"=>"2050-01-01", "accounts"=>{"AA"=>{"date"=>"2050-01-01", "total_balance"=>186568684, "type"=>"_401k", "balances"=>{"stocks"=>146093214, "bonds"=>40475470}}, "AD"=>{"date"=>"2050-01-01", "total_balance"=>34569004, "type"=>"_401k", "balances"=>{"stocks"=>34569004}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8609784}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8609784, "qualified_withdrawal"=>8477700, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17087484}}},
      {"date"=>"2051-01-01", "accounts"=>{"AA"=>{"date"=>"2051-01-01", "total_balance"=>191529305, "type"=>"_401k", "balances"=>{"stocks"=>150594071, "bonds"=>40935234}}, "AD"=>{"date"=>"2051-01-01", "total_balance"=>31196873, "type"=>"_401k", "balances"=>{"stocks"=>31196873}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8781984}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8781984, "qualified_withdrawal"=>8647248, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17429232}}},
      {"date"=>"2052-01-01", "accounts"=>{"AA"=>{"date"=>"2052-01-01", "total_balance"=>196669555, "type"=>"_401k", "balances"=>{"stocks"=>155261820, "bonds"=>41407735}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>27513480, "type"=>"_401k", "balances"=>{"stocks"=>27513480}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8957616}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8957616, "qualified_withdrawal"=>8820192, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17777808}}},
      {"date"=>"2053-01-01", "accounts"=>{"AA"=>{"date"=>"2053-01-01", "total_balance"=>202027844, "type"=>"_401k", "balances"=>{"stocks"=>160129797, "bonds"=>41898047}}, "AD"=>{"date"=>"2053-01-01", "total_balance"=>23501738, "type"=>"_401k", "balances"=>{"stocks"=>23501738}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9136776}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9136776, "qualified_withdrawal"=>8996604, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18133380}}},
      {"date"=>"2054-01-01", "accounts"=>{"AA"=>{"date"=>"2054-01-01", "total_balance"=>207554520, "type"=>"_401k", "balances"=>{"stocks"=>165156566, "bonds"=>42397954}}, "AD"=>{"date"=>"2054-01-01", "total_balance"=>19132218, "type"=>"_401k", "balances"=>{"stocks"=>19132218}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9319512}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9319512, "qualified_withdrawal"=>9176532, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18496044}}},
      {"date"=>"2055-01-01", "accounts"=>{"AA"=>{"date"=>"2055-01-01", "total_balance"=>213287317, "type"=>"_401k", "balances"=>{"stocks"=>170374964, "bonds"=>42912353}}, "AD"=>{"date"=>"2055-01-01", "total_balance"=>14384927, "type"=>"_401k", "balances"=>{"stocks"=>14384927}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9505896}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9505896, "qualified_withdrawal"=>9360060, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18865956}}},
      {"date"=>"2056-01-01", "accounts"=>{"AA"=>{"date"=>"2056-01-01", "total_balance"=>219235997, "type"=>"_401k", "balances"=>{"stocks"=>175794135, "bonds"=>43441862}}, "AD"=>{"date"=>"2056-01-01", "total_balance"=>9234897, "type"=>"_401k", "balances"=>{"stocks"=>9234897}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9696024}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9696024, "qualified_withdrawal"=>9547260, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19243284}}},
      {"date"=>"2057-01-01", "accounts"=>{"AA"=>{"date"=>"2057-01-01", "total_balance"=>225444549, "type"=>"_401k", "balances"=>{"stocks"=>181452697, "bonds"=>43991852}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>3656194, "type"=>"_401k", "balances"=>{"stocks"=>3656194}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9889944}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9889944, "qualified_withdrawal"=>9738204, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19628148}}},
      {"date"=>"2058-01-01", "accounts"=>{"AA"=>{"date"=>"2058-01-01", "total_balance"=>229486632, "type"=>"_401k", "balances"=>{"stocks"=>185388588, "bonds"=>44098044}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10087740}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10087740, "qualified_withdrawal"=>9932976, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20020716}}},
      {"date"=>"2059-01-01", "accounts"=>{"AA"=>{"date"=>"2059-01-01", "total_balance"=>229657771, "type"=>"_401k", "balances"=>{"stocks"=>186201949, "bonds"=>43455822}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10289496}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10289496, "qualified_withdrawal"=>10131636, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20421132}}},
      {"date"=>"2060-01-01", "accounts"=>{"AA"=>{"date"=>"2060-01-01", "total_balance"=>229596973, "type"=>"_401k", "balances"=>{"stocks"=>186819633, "bonds"=>42777340}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10495284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10495284, "qualified_withdrawal"=>10334268, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20829552}}},
      {"date"=>"2061-01-01", "accounts"=>{"AA"=>{"date"=>"2061-01-01", "total_balance"=>229320370, "type"=>"_401k", "balances"=>{"stocks"=>187254627, "bonds"=>42065743}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10705188}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10705188, "qualified_withdrawal"=>10540956, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21246144}}},
      {"date"=>"2062-01-01", "accounts"=>{"AA"=>{"date"=>"2062-01-01", "total_balance"=>228741621, "type"=>"_401k", "balances"=>{"stocks"=>187430755, "bonds"=>41310866}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10919280}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10919280, "qualified_withdrawal"=>10751772, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21671052}}},
      {"date"=>"2063-01-01", "accounts"=>{"AA"=>{"date"=>"2063-01-01", "total_balance"=>227872571, "type"=>"_401k", "balances"=>{"stocks"=>187357085, "bonds"=>40515486}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11137680}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11137680, "qualified_withdrawal"=>10966800, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22104480}}},
      {"date"=>"2064-01-01", "accounts"=>{"AA"=>{"date"=>"2064-01-01", "total_balance"=>226691204, "type"=>"_401k", "balances"=>{"stocks"=>187013134, "bonds"=>39678070}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11360436}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11360436, "qualified_withdrawal"=>11186136, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22546572}}},
      {"date"=>"2065-01-01", "accounts"=>{"AA"=>{"date"=>"2065-01-01", "total_balance"=>225208011, "type"=>"_401k", "balances"=>{"stocks"=>186406819, "bonds"=>38801192}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11587644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11587644, "qualified_withdrawal"=>11409864, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22997508}}},
      {"date"=>"2066-01-01", "accounts"=>{"AA"=>{"date"=>"2066-01-01", "total_balance"=>223332172, "type"=>"_401k", "balances"=>{"stocks"=>185457048, "bonds"=>37875124}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11819388}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11819388, "qualified_withdrawal"=>11638056, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23457444}}},
      {"date"=>"2067-01-01", "accounts"=>{"AA"=>{"date"=>"2067-01-01", "total_balance"=>221069312, "type"=>"_401k", "balances"=>{"stocks"=>184167258, "bonds"=>36902054}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>nil}
    ]
  end

  def expected_guaranteed_income
    [
      {"date"=>"2017-12-14", "accounts"=>{"AA"=>{"date"=>"2017-12-14", "total_balance"=>50000000, "type"=>"_401k", "balances"=>{"stocks"=>30000000, "bonds"=>20000000}}, "AD"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>20000000}}}, "cashflow"=>{"pretax"=>{}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>0}}},
      {"date"=>"2018-01-01", "accounts"=>{"AA"=>{"date"=>"2018-01-01", "total_balance"=>50125051, "type"=>"_401k", "balances"=>{"stocks"=>30086330, "bonds"=>20038721}}, "AD"=>{"date"=>"2018-01-01", "total_balance"=>20057553, "type"=>"_401k", "balances"=>{"stocks"=>20057553}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2019-01-01", "accounts"=>{"AA"=>{"date"=>"2019-01-01", "total_balance"=>53764116, "type"=>"_401k", "balances"=>{"stocks"=>32923847, "bonds"=>20840269}}, "AD"=>{"date"=>"2019-01-01", "total_balance"=>22035261, "type"=>"_401k", "balances"=>{"stocks"=>22035261}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2020-01-01", "accounts"=>{"AA"=>{"date"=>"2020-01-01", "total_balance"=>57605493, "type"=>"_401k", "balances"=>{"stocks"=>35931615, "bonds"=>21673878}}, "AD"=>{"date"=>"2020-01-01", "total_balance"=>24131633, "type"=>"_401k", "balances"=>{"stocks"=>24131633}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2021-01-01", "accounts"=>{"AA"=>{"date"=>"2021-01-01", "total_balance"=>61669213, "type"=>"_401k", "balances"=>{"stocks"=>39125958, "bonds"=>22543255}}, "AD"=>{"date"=>"2021-01-01", "total_balance"=>26357891, "type"=>"_401k", "balances"=>{"stocks"=>26357891}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2022-01-01", "accounts"=>{"AA"=>{"date"=>"2022-01-01", "total_balance"=>65950837, "type"=>"_401k", "balances"=>{"stocks"=>42505851, "bonds"=>23444986}}, "AD"=>{"date"=>"2022-01-01", "total_balance"=>28713621, "type"=>"_401k", "balances"=>{"stocks"=>28713621}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2023-01-01", "accounts"=>{"AA"=>{"date"=>"2023-01-01", "total_balance"=>70471326, "type"=>"_401k", "balances"=>{"stocks"=>46088541, "bonds"=>24382785}}, "AD"=>{"date"=>"2023-01-01", "total_balance"=>31210694, "type"=>"_401k", "balances"=>{"stocks"=>31210694}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2024-01-01", "accounts"=>{"AA"=>{"date"=>"2024-01-01", "total_balance"=>75244286, "type"=>"_401k", "balances"=>{"stocks"=>49886191, "bonds"=>25358095}}, "AD"=>{"date"=>"2024-01-01", "total_balance"=>33857592, "type"=>"_401k", "balances"=>{"stocks"=>33857592}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2025-01-01", "accounts"=>{"AA"=>{"date"=>"2025-01-01", "total_balance"=>80295425, "type"=>"_401k", "balances"=>{"stocks"=>53920171, "bonds"=>26375254}}, "AD"=>{"date"=>"2025-01-01", "total_balance"=>36669054, "type"=>"_401k", "balances"=>{"stocks"=>36669054}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2026-01-01", "accounts"=>{"AA"=>{"date"=>"2026-01-01", "total_balance"=>85617984, "type"=>"_401k", "balances"=>{"stocks"=>58187720, "bonds"=>27430264}}, "AD"=>{"date"=>"2026-01-01", "total_balance"=>39643454, "type"=>"_401k", "balances"=>{"stocks"=>39643454}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2027-01-01", "accounts"=>{"AA"=>{"date"=>"2027-01-01", "total_balance"=>91238794, "type"=>"_401k", "balances"=>{"stocks"=>62711320, "bonds"=>28527474}}, "AD"=>{"date"=>"2027-01-01", "total_balance"=>42796318, "type"=>"_401k", "balances"=>{"stocks"=>42796318}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2028-01-01", "accounts"=>{"AA"=>{"date"=>"2028-01-01", "total_balance"=>97174911, "type"=>"_401k", "balances"=>{"stocks"=>67506337, "bonds"=>29668574}}, "AD"=>{"date"=>"2028-01-01", "total_balance"=>46138353, "type"=>"_401k", "balances"=>{"stocks"=>46138353}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2029-01-01", "accounts"=>{"AA"=>{"date"=>"2029-01-01", "total_balance"=>103459138, "type"=>"_401k", "balances"=>{"stocks"=>72600506, "bonds"=>30858632}}, "AD"=>{"date"=>"2029-01-01", "total_balance"=>49688739, "type"=>"_401k", "balances"=>{"stocks"=>49688739}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2030-01-01", "accounts"=>{"AA"=>{"date"=>"2030-01-01", "total_balance"=>110081852, "type"=>"_401k", "balances"=>{"stocks"=>77988874, "bonds"=>32092978}}, "AD"=>{"date"=>"2030-01-01", "total_balance"=>53444320, "type"=>"_401k", "balances"=>{"stocks"=>53444320}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2031-01-01", "accounts"=>{"AA"=>{"date"=>"2031-01-01", "total_balance"=>117077240, "type"=>"_401k", "balances"=>{"stocks"=>83700544, "bonds"=>33376696}}, "AD"=>{"date"=>"2031-01-01", "total_balance"=>57425236, "type"=>"_401k", "balances"=>{"stocks"=>57425236}}}, "cashflow"=>{"pretax"=>{"w2_income"=>8525000, "ss_income"=>3963850}, "posttax"=>{"w2_income"=>7033125, "gty_income"=>0, "ss_income"=>3963850, "qualified_withdrawal"=>1262280, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12259255}}},
      {"date"=>"2032-01-01", "accounts"=>{"AA"=>{"date"=>"2032-01-01", "total_balance"=>122807617, "type"=>"_401k", "balances"=>{"stocks"=>88321332, "bonds"=>34486285}}, "AD"=>{"date"=>"2032-01-01", "total_balance"=>60857195, "type"=>"_401k", "balances"=>{"stocks"=>60857195}}}, "cashflow"=>{"pretax"=>{"w2_income"=>6975000, "ss_income"=>4851756, "gty_income"=>550000}, "posttax"=>{"w2_income"=>5754375, "gty_income"=>453750, "ss_income"=>4851756, "qualified_withdrawal"=>1206366, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12266247}}},
      {"date"=>"2033-01-01", "accounts"=>{"AA"=>{"date"=>"2033-01-01", "total_balance"=>128734136, "type"=>"_401k", "balances"=>{"stocks"=>93078101, "bonds"=>35656035}}, "AD"=>{"date"=>"2033-01-01", "total_balance"=>64536551, "type"=>"_401k", "balances"=>{"stocks"=>64536551}}}, "cashflow"=>{"pretax"=>{"w2_income"=>2325000, "ss_income"=>5748788, "gty_income"=>611000}, "posttax"=>{"w2_income"=>1918125, "gty_income"=>504075, "ss_income"=>5748788, "qualified_withdrawal"=>4340585, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12511573}}},
      {"date"=>"2034-01-01", "accounts"=>{"AA"=>{"date"=>"2034-01-01", "total_balance"=>132971135, "type"=>"_401k", "balances"=>{"stocks"=>96646631, "bonds"=>36324504}}, "AD"=>{"date"=>"2034-01-01", "total_balance"=>65921143, "type"=>"_401k", "balances"=>{"stocks"=>65921143}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6271764, "gty_income"=>623220}, "posttax"=>{"w2_income"=>0, "gty_income"=>514157, "ss_income"=>6271764, "qualified_withdrawal"=>5975870, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12761791}}},
      {"date"=>"2035-01-01", "accounts"=>{"AA"=>{"date"=>"2035-01-01", "total_balance"=>136403645, "type"=>"_401k", "balances"=>{"stocks"=>99655108, "bonds"=>36748537}}, "AD"=>{"date"=>"2035-01-01", "total_balance"=>66037381, "type"=>"_401k", "balances"=>{"stocks"=>66037381}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6397200, "gty_income"=>635680}, "posttax"=>{"w2_income"=>0, "gty_income"=>524436, "ss_income"=>6397200, "qualified_withdrawal"=>6095394, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13017030}}},
      {"date"=>"2036-01-01", "accounts"=>{"AA"=>{"date"=>"2036-01-01", "total_balance"=>139956967, "type"=>"_401k", "balances"=>{"stocks"=>102773551, "bonds"=>37183416}}, "AD"=>{"date"=>"2036-01-01", "total_balance"=>66083793, "type"=>"_401k", "balances"=>{"stocks"=>66083793}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6525144, "gty_income"=>648402}, "posttax"=>{"w2_income"=>0, "gty_income"=>534932, "ss_income"=>6525144, "qualified_withdrawal"=>6217296, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13277372}}},
      {"date"=>"2037-01-01", "accounts"=>{"AA"=>{"date"=>"2037-01-01", "total_balance"=>143657560, "type"=>"_401k", "balances"=>{"stocks"=>106023892, "bonds"=>37633668}}, "AD"=>{"date"=>"2037-01-01", "total_balance"=>66065232, "type"=>"_401k", "balances"=>{"stocks"=>66065232}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6655644, "gty_income"=>661366}, "posttax"=>{"w2_income"=>0, "gty_income"=>545627, "ss_income"=>6655644, "qualified_withdrawal"=>6341656, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13542927}}},
      {"date"=>"2038-01-01", "accounts"=>{"AA"=>{"date"=>"2038-01-01", "total_balance"=>147470438, "type"=>"_401k", "balances"=>{"stocks"=>109378556, "bonds"=>38091882}}, "AD"=>{"date"=>"2038-01-01", "total_balance"=>65955120, "type"=>"_401k", "balances"=>{"stocks"=>65955120}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6788760, "gty_income"=>674592}, "posttax"=>{"w2_income"=>0, "gty_income"=>556538, "ss_income"=>6788760, "qualified_withdrawal"=>6468491, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13813789}}},
      {"date"=>"2039-01-01", "accounts"=>{"AA"=>{"date"=>"2039-01-01", "total_balance"=>151421557, "type"=>"_401k", "balances"=>{"stocks"=>112859123, "bonds"=>38562434}}, "AD"=>{"date"=>"2039-01-01", "total_balance"=>65756917, "type"=>"_401k", "balances"=>{"stocks"=>65756917}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6924528, "gty_income"=>688082}, "posttax"=>{"w2_income"=>0, "gty_income"=>567668, "ss_income"=>6924528, "qualified_withdrawal"=>6597869, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14090065}}},
      {"date"=>"2040-01-01", "accounts"=>{"AA"=>{"date"=>"2040-01-01", "total_balance"=>155517335, "type"=>"_401k", "balances"=>{"stocks"=>116471482, "bonds"=>39045853}}, "AD"=>{"date"=>"2040-01-01", "total_balance"=>65463710, "type"=>"_401k", "balances"=>{"stocks"=>65463710}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7063032, "gty_income"=>701847}, "posttax"=>{"w2_income"=>0, "gty_income"=>579024, "ss_income"=>7063032, "qualified_withdrawal"=>6729804, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14371860}}},
      {"date"=>"2041-01-01", "accounts"=>{"AA"=>{"date"=>"2041-01-01", "total_balance"=>159787995, "type"=>"_401k", "balances"=>{"stocks"=>120241052, "bonds"=>39546943}}, "AD"=>{"date"=>"2041-01-01", "total_balance"=>65078534, "type"=>"_401k", "balances"=>{"stocks"=>65078534}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7204284, "gty_income"=>715888}, "posttax"=>{"w2_income"=>0, "gty_income"=>590608, "ss_income"=>7204284, "qualified_withdrawal"=>6864403, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14659295}}},
      {"date"=>"2042-01-01", "accounts"=>{"AA"=>{"date"=>"2042-01-01", "total_balance"=>164195061, "type"=>"_401k", "balances"=>{"stocks"=>124137075, "bonds"=>40057986}}, "AD"=>{"date"=>"2042-01-01", "total_balance"=>64573390, "type"=>"_401k", "balances"=>{"stocks"=>64573390}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7348368, "gty_income"=>730205}, "posttax"=>{"w2_income"=>0, "gty_income"=>602419, "ss_income"=>7348368, "qualified_withdrawal"=>7001690, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14952477}}},
      {"date"=>"2043-01-01", "accounts"=>{"AA"=>{"date"=>"2043-01-01", "total_balance"=>168768254, "type"=>"_401k", "balances"=>{"stocks"=>128184613, "bonds"=>40583641}}, "AD"=>{"date"=>"2043-01-01", "total_balance"=>63949737, "type"=>"_401k", "balances"=>{"stocks"=>63949737}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7495332, "gty_income"=>744809}, "posttax"=>{"w2_income"=>0, "gty_income"=>614467, "ss_income"=>7495332, "qualified_withdrawal"=>7141737, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15251536}}},
      {"date"=>"2044-01-01", "accounts"=>{"AA"=>{"date"=>"2044-01-01", "total_balance"=>173515457, "type"=>"_401k", "balances"=>{"stocks"=>132390938, "bonds"=>41124519}}, "AD"=>{"date"=>"2044-01-01", "total_balance"=>63198708, "type"=>"_401k", "balances"=>{"stocks"=>63198708}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7645236, "gty_income"=>759701}, "posttax"=>{"w2_income"=>0, "gty_income"=>626753, "ss_income"=>7645236, "qualified_withdrawal"=>7284570, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15556559}}},
      {"date"=>"2045-01-01", "accounts"=>{"AA"=>{"date"=>"2045-01-01", "total_balance"=>178471347, "type"=>"_401k", "balances"=>{"stocks"=>136785590, "bonds"=>41685757}}, "AD"=>{"date"=>"2045-01-01", "total_balance"=>62320791, "type"=>"_401k", "balances"=>{"stocks"=>62320791}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7798152, "gty_income"=>774892}, "posttax"=>{"w2_income"=>0, "gty_income"=>639286, "ss_income"=>7798152, "qualified_withdrawal"=>7430258, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15867696}}},
      {"date"=>"2046-01-01", "accounts"=>{"AA"=>{"date"=>"2046-01-01", "total_balance"=>183593568, "type"=>"_401k", "balances"=>{"stocks"=>141334269, "bonds"=>42259299}}, "AD"=>{"date"=>"2046-01-01", "total_balance"=>61286670, "type"=>"_401k", "balances"=>{"stocks"=>61286670}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7954116, "gty_income"=>790394}, "posttax"=>{"w2_income"=>0, "gty_income"=>652075, "ss_income"=>7954116, "qualified_withdrawal"=>7578852, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16185043}}},
      {"date"=>"2047-01-01", "accounts"=>{"AA"=>{"date"=>"2047-01-01", "total_balance"=>188916307, "type"=>"_401k", "balances"=>{"stocks"=>146066192, "bonds"=>42850115}}, "AD"=>{"date"=>"2047-01-01", "total_balance"=>60095036, "type"=>"_401k", "balances"=>{"stocks"=>60095036}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8113200, "gty_income"=>806197}, "posttax"=>{"w2_income"=>0, "gty_income"=>665113, "ss_income"=>8113200, "qualified_withdrawal"=>7730432, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16508745}}},
      {"date"=>"2048-01-01", "accounts"=>{"AA"=>{"date"=>"2048-01-01", "total_balance"=>194449319, "type"=>"_401k", "balances"=>{"stocks"=>150990385, "bonds"=>43458934}}, "AD"=>{"date"=>"2048-01-01", "total_balance"=>58734520, "type"=>"_401k", "balances"=>{"stocks"=>58734520}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8275464, "gty_income"=>822322}, "posttax"=>{"w2_income"=>0, "gty_income"=>678416, "ss_income"=>8275464, "qualified_withdrawal"=>7885050, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16838930}}},
      {"date"=>"2049-01-01", "accounts"=>{"AA"=>{"date"=>"2049-01-01", "total_balance"=>200232573, "type"=>"_401k", "balances"=>{"stocks"=>156141320, "bonds"=>44091253}}, "AD"=>{"date"=>"2049-01-01", "total_balance"=>57202185, "type"=>"_401k", "balances"=>{"stocks"=>57202185}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8440968, "gty_income"=>838771}, "posttax"=>{"w2_income"=>0, "gty_income"=>691986, "ss_income"=>8440968, "qualified_withdrawal"=>8042753, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17175707}}},
      {"date"=>"2050-01-01", "accounts"=>{"AA"=>{"date"=>"2050-01-01", "total_balance"=>206219303, "type"=>"_401k", "balances"=>{"stocks"=>161480681, "bonds"=>44738622}}, "AD"=>{"date"=>"2050-01-01", "total_balance"=>55467462, "type"=>"_401k", "balances"=>{"stocks"=>55467462}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8609784, "gty_income"=>855544}, "posttax"=>{"w2_income"=>0, "gty_income"=>705824, "ss_income"=>8609784, "qualified_withdrawal"=>8203611, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17519219}}},
      {"date"=>"2051-01-01", "accounts"=>{"AA"=>{"date"=>"2051-01-01", "total_balance"=>212449068, "type"=>"_401k", "balances"=>{"stocks"=>167042675, "bonds"=>45406393}}, "AD"=>{"date"=>"2051-01-01", "total_balance"=>53525317, "type"=>"_401k", "balances"=>{"stocks"=>53525317}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8781984, "gty_income"=>872663}, "posttax"=>{"w2_income"=>0, "gty_income"=>719947, "ss_income"=>8781984, "qualified_withdrawal"=>8367663, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17869594}}},
      {"date"=>"2052-01-01", "accounts"=>{"AA"=>{"date"=>"2052-01-01", "total_balance"=>218933969, "type"=>"_401k", "balances"=>{"stocks"=>172838561, "bonds"=>46095408}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>51361255, "type"=>"_401k", "balances"=>{"stocks"=>51361255}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8957616, "gty_income"=>890108}, "posttax"=>{"w2_income"=>0, "gty_income"=>734339, "ss_income"=>8957616, "qualified_withdrawal"=>8535037, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18226992}}},
      {"date"=>"2053-01-01", "accounts"=>{"AA"=>{"date"=>"2053-01-01", "total_balance"=>225720352, "type"=>"_401k", "balances"=>{"stocks"=>178908756, "bonds"=>46811596}}, "AD"=>{"date"=>"2053-01-01", "total_balance"=>48967641, "type"=>"_401k", "balances"=>{"stocks"=>48967641}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9136776, "gty_income"=>907910}, "posttax"=>{"w2_income"=>0, "gty_income"=>749026, "ss_income"=>9136776, "qualified_withdrawal"=>8705726, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18591528}}},
      {"date"=>"2054-01-01", "accounts"=>{"AA"=>{"date"=>"2054-01-01", "total_balance"=>232756446, "type"=>"_401k", "balances"=>{"stocks"=>185210373, "bonds"=>47546073}}, "AD"=>{"date"=>"2054-01-01", "total_balance"=>46312933, "type"=>"_401k", "balances"=>{"stocks"=>46312933}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9319512, "gty_income"=>926072}, "posttax"=>{"w2_income"=>0, "gty_income"=>764009, "ss_income"=>9319512, "qualified_withdrawal"=>8879835, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18963356}}},
      {"date"=>"2055-01-01", "accounts"=>{"AA"=>{"date"=>"2055-01-01", "total_balance"=>240088280, "type"=>"_401k", "balances"=>{"stocks"=>191783681, "bonds"=>48304599}}, "AD"=>{"date"=>"2055-01-01", "total_balance"=>43387092, "type"=>"_401k", "balances"=>{"stocks"=>43387092}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9505896, "gty_income"=>944594}, "posttax"=>{"w2_income"=>0, "gty_income"=>779290, "ss_income"=>9505896, "qualified_withdrawal"=>9057447, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19342633}}},
      {"date"=>"2056-01-01", "accounts"=>{"AA"=>{"date"=>"2056-01-01", "total_balance"=>247730844, "type"=>"_401k", "balances"=>{"stocks"=>198642670, "bonds"=>49088174}}, "AD"=>{"date"=>"2056-01-01", "total_balance"=>40171599, "type"=>"_401k", "balances"=>{"stocks"=>40171599}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9696024, "gty_income"=>963487}, "posttax"=>{"w2_income"=>0, "gty_income"=>794877, "ss_income"=>9696024, "qualified_withdrawal"=>9238589, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19729490}}},
      {"date"=>"2057-01-01", "accounts"=>{"AA"=>{"date"=>"2057-01-01", "total_balance"=>255738242, "type"=>"_401k", "balances"=>{"stocks"=>205835035, "bonds"=>49903207}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>36652649, "type"=>"_401k", "balances"=>{"stocks"=>36652649}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9889944, "gty_income"=>982752}, "posttax"=>{"w2_income"=>0, "gty_income"=>810770, "ss_income"=>9889944, "qualified_withdrawal"=>9423355, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20124069}}},
      {"date"=>"2058-01-01", "accounts"=>{"AA"=>{"date"=>"2058-01-01", "total_balance"=>264052958, "type"=>"_401k", "balances"=>{"stocks"=>213312640, "bonds"=>50740318}}, "AD"=>{"date"=>"2058-01-01", "total_balance"=>32798028, "type"=>"_401k", "balances"=>{"stocks"=>32798028}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10087740, "gty_income"=>1002411}, "posttax"=>{"w2_income"=>0, "gty_income"=>826989, "ss_income"=>10087740, "qualified_withdrawal"=>9611818, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20526547}}},
      {"date"=>"2059-01-01", "accounts"=>{"AA"=>{"date"=>"2059-01-01", "total_balance"=>272728852, "type"=>"_401k", "balances"=>{"stocks"=>221123095, "bonds"=>51605757}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>28591044, "type"=>"_401k", "balances"=>{"stocks"=>28591044}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10289496, "gty_income"=>1022455}, "posttax"=>{"w2_income"=>0, "gty_income"=>843525, "ss_income"=>10289496, "qualified_withdrawal"=>9804060, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20937081}}},
      {"date"=>"2060-01-01", "accounts"=>{"AA"=>{"date"=>"2060-01-01", "total_balance"=>281784587, "type"=>"_401k", "balances"=>{"stocks"=>229283890, "bonds"=>52500697}}, "AD"=>{"date"=>"2060-01-01", "total_balance"=>24008139, "type"=>"_401k", "balances"=>{"stocks"=>24008139}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10495284, "gty_income"=>1042905}, "posttax"=>{"w2_income"=>0, "gty_income"=>860397, "ss_income"=>10495284, "qualified_withdrawal"=>10000144, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21355825}}},
      {"date"=>"2061-01-01", "accounts"=>{"AA"=>{"date"=>"2061-01-01", "total_balance"=>291283603, "type"=>"_401k", "balances"=>{"stocks"=>237851508, "bonds"=>53432095}}, "AD"=>{"date"=>"2061-01-01", "total_balance"=>19027326, "type"=>"_401k", "balances"=>{"stocks"=>19027326}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10705188, "gty_income"=>1063763}, "posttax"=>{"w2_income"=>0, "gty_income"=>877604, "ss_income"=>10705188, "qualified_withdrawal"=>10200152, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21782944}}},
      {"date"=>"2062-01-01", "accounts"=>{"AA"=>{"date"=>"2062-01-01", "total_balance"=>301161827, "type"=>"_401k", "balances"=>{"stocks"=>246771800, "bonds"=>54390027}}, "AD"=>{"date"=>"2062-01-01", "total_balance"=>13616149, "type"=>"_401k", "balances"=>{"stocks"=>13616149}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10919280, "gty_income"=>1085040}, "posttax"=>{"w2_income"=>0, "gty_income"=>895158, "ss_income"=>10919280, "qualified_withdrawal"=>10404158, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22218596}}},
      {"date"=>"2063-01-01", "accounts"=>{"AA"=>{"date"=>"2063-01-01", "total_balance"=>311482621, "type"=>"_401k", "balances"=>{"stocks"=>256101337, "bonds"=>55381284}}, "AD"=>{"date"=>"2063-01-01", "total_balance"=>7749241, "type"=>"_401k", "balances"=>{"stocks"=>7749241}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11137680, "gty_income"=>1106737}, "posttax"=>{"w2_income"=>0, "gty_income"=>913058, "ss_income"=>11137680, "qualified_withdrawal"=>10612230, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22662968}}},
      {"date"=>"2064-01-01", "accounts"=>{"AA"=>{"date"=>"2064-01-01", "total_balance"=>322269267, "type"=>"_401k", "balances"=>{"stocks"=>265862018, "bonds"=>56407249}}, "AD"=>{"date"=>"2064-01-01", "total_balance"=>1396639, "type"=>"_401k", "balances"=>{"stocks"=>1396639}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11360436, "gty_income"=>1128876}, "posttax"=>{"w2_income"=>0, "gty_income"=>931323, "ss_income"=>11360436, "qualified_withdrawal"=>10824480, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23116239}}},
      {"date"=>"2065-01-01", "accounts"=>{"AA"=>{"date"=>"2065-01-01", "total_balance"=>328140368, "type"=>"_401k", "balances"=>{"stocks"=>271604894, "bonds"=>56535474}}, "AD"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11587644, "gty_income"=>1151459}, "posttax"=>{"w2_income"=>0, "gty_income"=>949954, "ss_income"=>11587644, "qualified_withdrawal"=>11040967, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23578565}}},
      {"date"=>"2066-01-01", "accounts"=>{"AA"=>{"date"=>"2066-01-01", "total_balance"=>332558227, "type"=>"_401k", "balances"=>{"stocks"=>276159330, "bonds"=>56398897}}, "AD"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11819388, "gty_income"=>1174486}, "posttax"=>{"w2_income"=>0, "gty_income"=>968951, "ss_income"=>11819388, "qualified_withdrawal"=>11261798, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>24050137}}},
      {"date"=>"2067-01-01", "accounts"=>{"AA"=>{"date"=>"2067-01-01", "total_balance"=>336960341, "type"=>"_401k", "balances"=>{"stocks"=>280713119, "bonds"=>56247222}}, "AD"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>nil}
    ]
  end

  def expected_no_reallocation
    [
    {"date"=>"2017-12-14", "accounts"=>{"AA"=>{"date"=>"2017-12-14", "total_balance"=>50000000, "type"=>"_401k", "balances"=>{"stocks"=>30000000, "bonds"=>20000000}}, "AD"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>20000000}}}, "cashflow"=>{"pretax"=>{}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>0}}},
    {"date"=>"2018-01-01", "accounts"=>{"AA"=>{"date"=>"2018-01-01", "total_balance"=>50125051, "type"=>"_401k", "balances"=>{"stocks"=>30086330, "bonds"=>20038721}}, "AD"=>{"date"=>"2018-01-01", "total_balance"=>20057553, "type"=>"_401k", "balances"=>{"stocks"=>20057553}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2019-01-01", "accounts"=>{"AA"=>{"date"=>"2019-01-01", "total_balance"=>53764116, "type"=>"_401k", "balances"=>{"stocks"=>32923847, "bonds"=>20840269}}, "AD"=>{"date"=>"2019-01-01", "total_balance"=>22035261, "type"=>"_401k", "balances"=>{"stocks"=>22035261}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2020-01-01", "accounts"=>{"AA"=>{"date"=>"2020-01-01", "total_balance"=>57605493, "type"=>"_401k", "balances"=>{"stocks"=>35931615, "bonds"=>21673878}}, "AD"=>{"date"=>"2020-01-01", "total_balance"=>24131633, "type"=>"_401k", "balances"=>{"stocks"=>24131633}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2021-01-01", "accounts"=>{"AA"=>{"date"=>"2021-01-01", "total_balance"=>61669213, "type"=>"_401k", "balances"=>{"stocks"=>39125958, "bonds"=>22543255}}, "AD"=>{"date"=>"2021-01-01", "total_balance"=>26357891, "type"=>"_401k", "balances"=>{"stocks"=>26357891}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2022-01-01", "accounts"=>{"AA"=>{"date"=>"2022-01-01", "total_balance"=>65950837, "type"=>"_401k", "balances"=>{"stocks"=>42505851, "bonds"=>23444986}}, "AD"=>{"date"=>"2022-01-01", "total_balance"=>28713621, "type"=>"_401k", "balances"=>{"stocks"=>28713621}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2023-01-01", "accounts"=>{"AA"=>{"date"=>"2023-01-01", "total_balance"=>70471326, "type"=>"_401k", "balances"=>{"stocks"=>46088541, "bonds"=>24382785}}, "AD"=>{"date"=>"2023-01-01", "total_balance"=>31210694, "type"=>"_401k", "balances"=>{"stocks"=>31210694}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2024-01-01", "accounts"=>{"AA"=>{"date"=>"2024-01-01", "total_balance"=>75244286, "type"=>"_401k", "balances"=>{"stocks"=>49886191, "bonds"=>25358095}}, "AD"=>{"date"=>"2024-01-01", "total_balance"=>33857592, "type"=>"_401k", "balances"=>{"stocks"=>33857592}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2025-01-01", "accounts"=>{"AA"=>{"date"=>"2025-01-01", "total_balance"=>80295425, "type"=>"_401k", "balances"=>{"stocks"=>53920171, "bonds"=>26375254}}, "AD"=>{"date"=>"2025-01-01", "total_balance"=>36669054, "type"=>"_401k", "balances"=>{"stocks"=>36669054}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2026-01-01", "accounts"=>{"AA"=>{"date"=>"2026-01-01", "total_balance"=>85617984, "type"=>"_401k", "balances"=>{"stocks"=>58187720, "bonds"=>27430264}}, "AD"=>{"date"=>"2026-01-01", "total_balance"=>39643454, "type"=>"_401k", "balances"=>{"stocks"=>39643454}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2027-01-01", "accounts"=>{"AA"=>{"date"=>"2027-01-01", "total_balance"=>91238794, "type"=>"_401k", "balances"=>{"stocks"=>62711320, "bonds"=>28527474}}, "AD"=>{"date"=>"2027-01-01", "total_balance"=>42796318, "type"=>"_401k", "balances"=>{"stocks"=>42796318}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2028-01-01", "accounts"=>{"AA"=>{"date"=>"2028-01-01", "total_balance"=>97174911, "type"=>"_401k", "balances"=>{"stocks"=>67506337, "bonds"=>29668574}}, "AD"=>{"date"=>"2028-01-01", "total_balance"=>46138353, "type"=>"_401k", "balances"=>{"stocks"=>46138353}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2029-01-01", "accounts"=>{"AA"=>{"date"=>"2029-01-01", "total_balance"=>103459138, "type"=>"_401k", "balances"=>{"stocks"=>72600506, "bonds"=>30858632}}, "AD"=>{"date"=>"2029-01-01", "total_balance"=>49688739, "type"=>"_401k", "balances"=>{"stocks"=>49688739}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2030-01-01", "accounts"=>{"AA"=>{"date"=>"2030-01-01", "total_balance"=>110081852, "type"=>"_401k", "balances"=>{"stocks"=>77988874, "bonds"=>32092978}}, "AD"=>{"date"=>"2030-01-01", "total_balance"=>53444320, "type"=>"_401k", "balances"=>{"stocks"=>53444320}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
    {"date"=>"2031-01-01", "accounts"=>{"AA"=>{"date"=>"2031-01-01", "total_balance"=>117077240, "type"=>"_401k", "balances"=>{"stocks"=>83700544, "bonds"=>33376696}}, "AD"=>{"date"=>"2031-01-01", "total_balance"=>57425236, "type"=>"_401k", "balances"=>{"stocks"=>57425236}}}, "cashflow"=>{"pretax"=>{"w2_income"=>8525000, "ss_income"=>3963850}, "posttax"=>{"w2_income"=>7033125, "gty_income"=>0, "ss_income"=>3963850, "qualified_withdrawal"=>1262280, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12259255}}},
    {"date"=>"2032-01-01", "accounts"=>{"AA"=>{"date"=>"2032-01-01", "total_balance"=>122807617, "type"=>"_401k", "balances"=>{"stocks"=>88321332, "bonds"=>34486285}}, "AD"=>{"date"=>"2032-01-01", "total_balance"=>60857195, "type"=>"_401k", "balances"=>{"stocks"=>60857195}}}, "cashflow"=>{"pretax"=>{"w2_income"=>6975000, "ss_income"=>4851756}, "posttax"=>{"w2_income"=>5754375, "gty_income"=>0, "ss_income"=>4851756, "qualified_withdrawal"=>1660116, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12266247}}},
    {"date"=>"2033-01-01", "accounts"=>{"AA"=>{"date"=>"2033-01-01", "total_balance"=>128444137, "type"=>"_401k", "balances"=>{"stocks"=>92868420, "bonds"=>35575717}}, "AD"=>{"date"=>"2033-01-01", "total_balance"=>64252850, "type"=>"_401k", "balances"=>{"stocks"=>64252850}}}, "cashflow"=>{"pretax"=>{"w2_income"=>2325000, "ss_income"=>5748788}, "posttax"=>{"w2_income"=>1918125, "gty_income"=>0, "ss_income"=>5748788, "qualified_withdrawal"=>4844660, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12511573}}},
    {"date"=>"2034-01-01", "accounts"=>{"AA"=>{"date"=>"2034-01-01", "total_balance"=>132343202, "type"=>"_401k", "balances"=>{"stocks"=>96190229, "bonds"=>36152973}}, "AD"=>{"date"=>"2034-01-01", "total_balance"=>65300442, "type"=>"_401k", "balances"=>{"stocks"=>65300442}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6271764}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6271764, "qualified_withdrawal"=>6490032, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12761796}}},
    {"date"=>"2035-01-01", "accounts"=>{"AA"=>{"date"=>"2035-01-01", "total_balance"=>135412875, "type"=>"_401k", "balances"=>{"stocks"=>98931255, "bonds"=>36481620}}, "AD"=>{"date"=>"2035-01-01", "total_balance"=>65049120, "type"=>"_401k", "balances"=>{"stocks"=>65049120}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6397200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6397200, "qualified_withdrawal"=>6619836, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13017036}}},
    {"date"=>"2036-01-01", "accounts"=>{"AA"=>{"date"=>"2036-01-01", "total_balance"=>138576879, "type"=>"_401k", "balances"=>{"stocks"=>101760118, "bonds"=>36816761}}, "AD"=>{"date"=>"2036-01-01", "total_balance"=>64699326, "type"=>"_401k", "balances"=>{"stocks"=>64699326}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6525144}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6525144, "qualified_withdrawal"=>6752232, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13277376}}},
    {"date"=>"2037-01-01", "accounts"=>{"AA"=>{"date"=>"2037-01-01", "total_balance"=>141859807, "type"=>"_401k", "balances"=>{"stocks"=>104697095, "bonds"=>37162712}}, "AD"=>{"date"=>"2037-01-01", "total_balance"=>64253742, "type"=>"_401k", "balances"=>{"stocks"=>64253742}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6655644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6655644, "qualified_withdrawal"=>6887280, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13542924}}},
    {"date"=>"2038-01-01", "accounts"=>{"AA"=>{"date"=>"2038-01-01", "total_balance"=>145225460, "type"=>"_401k", "balances"=>{"stocks"=>107713455, "bonds"=>37512005}}, "AD"=>{"date"=>"2038-01-01", "total_balance"=>63684416, "type"=>"_401k", "balances"=>{"stocks"=>63684416}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6788760}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6788760, "qualified_withdrawal"=>7025028, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13813788}}},
    {"date"=>"2039-01-01", "accounts"=>{"AA"=>{"date"=>"2039-01-01", "total_balance"=>148697686, "type"=>"_401k", "balances"=>{"stocks"=>110828936, "bonds"=>37868750}}, "AD"=>{"date"=>"2039-01-01", "total_balance"=>62992438, "type"=>"_401k", "balances"=>{"stocks"=>62992438}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6924528}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6924528, "qualified_withdrawal"=>7165536, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14090064}}},
    {"date"=>"2040-01-01", "accounts"=>{"AA"=>{"date"=>"2040-01-01", "total_balance"=>152280974, "type"=>"_401k", "balances"=>{"stocks"=>114047681, "bonds"=>38233293}}, "AD"=>{"date"=>"2040-01-01", "total_balance"=>62168667, "type"=>"_401k", "balances"=>{"stocks"=>62168667}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7063032}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7063032, "qualified_withdrawal"=>7308828, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14371860}}},
    {"date"=>"2041-01-01", "accounts"=>{"AA"=>{"date"=>"2041-01-01", "total_balance"=>156002925, "type"=>"_401k", "balances"=>{"stocks"=>117392773, "bonds"=>38610152}}, "AD"=>{"date"=>"2041-01-01", "total_balance"=>61213199, "type"=>"_401k", "balances"=>{"stocks"=>61213199}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7204284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7204284, "qualified_withdrawal"=>7455012, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14659296}}},
    {"date"=>"2042-01-01", "accounts"=>{"AA"=>{"date"=>"2042-01-01", "total_balance"=>159823979, "type"=>"_401k", "balances"=>{"stocks"=>120832382, "bonds"=>38991597}}, "AD"=>{"date"=>"2042-01-01", "total_balance"=>60096720, "type"=>"_401k", "balances"=>{"stocks"=>60096720}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7348368}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7348368, "qualified_withdrawal"=>7604112, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14952480}}},
    {"date"=>"2043-01-01", "accounts"=>{"AA"=>{"date"=>"2043-01-01", "total_balance"=>163771007, "type"=>"_401k", "balances"=>{"stocks"=>124389047, "bonds"=>39381960}}, "AD"=>{"date"=>"2043-01-01", "total_balance"=>58817458, "type"=>"_401k", "balances"=>{"stocks"=>58817458}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7495332}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7495332, "qualified_withdrawal"=>7756200, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15251532}}},
    {"date"=>"2044-01-01", "accounts"=>{"AA"=>{"date"=>"2044-01-01", "total_balance"=>167849468, "type"=>"_401k", "balances"=>{"stocks"=>128067821, "bonds"=>39781647}}, "AD"=>{"date"=>"2044-01-01", "total_balance"=>57363738, "type"=>"_401k", "balances"=>{"stocks"=>57363738}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7645236}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7645236, "qualified_withdrawal"=>7911324, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15556560}}},
    {"date"=>"2045-01-01", "accounts"=>{"AA"=>{"date"=>"2045-01-01", "total_balance"=>172090475, "type"=>"_401k", "balances"=>{"stocks"=>131895087, "bonds"=>40195388}}, "AD"=>{"date"=>"2045-01-01", "total_balance"=>55732043, "type"=>"_401k", "balances"=>{"stocks"=>55732043}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7798152}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7798152, "qualified_withdrawal"=>8069544, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15867696}}},
    {"date"=>"2046-01-01", "accounts"=>{"AA"=>{"date"=>"2046-01-01", "total_balance"=>176450768, "type"=>"_401k", "balances"=>{"stocks"=>135835573, "bonds"=>40615195}}, "AD"=>{"date"=>"2046-01-01", "total_balance"=>53891891, "type"=>"_401k", "balances"=>{"stocks"=>53891891}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7954116}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7954116, "qualified_withdrawal"=>8230932, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16185048}}},
    {"date"=>"2047-01-01", "accounts"=>{"AA"=>{"date"=>"2047-01-01", "total_balance"=>180960720, "type"=>"_401k", "balances"=>{"stocks"=>139915078, "bonds"=>41045642}}, "AD"=>{"date"=>"2047-01-01", "total_balance"=>51837662, "type"=>"_401k", "balances"=>{"stocks"=>51837662}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8113200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8113200, "qualified_withdrawal"=>8395548, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16508748}}},
    {"date"=>"2048-01-01", "accounts"=>{"AA"=>{"date"=>"2048-01-01", "total_balance"=>185627023, "type"=>"_401k", "balances"=>{"stocks"=>144139832, "bonds"=>41487191}}, "AD"=>{"date"=>"2048-01-01", "total_balance"=>49554425, "type"=>"_401k", "balances"=>{"stocks"=>49554425}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8275464}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8275464, "qualified_withdrawal"=>8563464, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16838928}}},
    {"date"=>"2049-01-01", "accounts"=>{"AA"=>{"date"=>"2049-01-01", "total_balance"=>190484943, "type"=>"_401k", "balances"=>{"stocks"=>148540099, "bonds"=>41944844}}, "AD"=>{"date"=>"2049-01-01", "total_balance"=>47033824, "type"=>"_401k", "balances"=>{"stocks"=>47033824}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8440968}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8440968, "qualified_withdrawal"=>8734740, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17175708}}},
    {"date"=>"2050-01-01", "accounts"=>{"AA"=>{"date"=>"2050-01-01", "total_balance"=>195487041, "type"=>"_401k", "balances"=>{"stocks"=>153076723, "bonds"=>42410318}}, "AD"=>{"date"=>"2050-01-01", "total_balance"=>44244451, "type"=>"_401k", "balances"=>{"stocks"=>44244451}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8609784}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8609784, "qualified_withdrawal"=>8909436, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17519220}}},
    {"date"=>"2051-01-01", "accounts"=>{"AA"=>{"date"=>"2051-01-01", "total_balance"=>200667842, "type"=>"_401k", "balances"=>{"stocks"=>157779409, "bonds"=>42888433}}, "AD"=>{"date"=>"2051-01-01", "total_balance"=>41175487, "type"=>"_401k", "balances"=>{"stocks"=>41175487}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8781984}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8781984, "qualified_withdrawal"=>9087612, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17869596}}},
    {"date"=>"2052-01-01", "accounts"=>{"AA"=>{"date"=>"2052-01-01", "total_balance"=>206035576, "type"=>"_401k", "balances"=>{"stocks"=>162655831, "bonds"=>43379745}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>37807918, "type"=>"_401k", "balances"=>{"stocks"=>37807918}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8957616}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8957616, "qualified_withdrawal"=>9269376, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18226992}}},
    {"date"=>"2053-01-01", "accounts"=>{"AA"=>{"date"=>"2053-01-01", "total_balance"=>211630395, "type"=>"_401k", "balances"=>{"stocks"=>167740861, "bonds"=>43889534}}, "AD"=>{"date"=>"2053-01-01", "total_balance"=>34126973, "type"=>"_401k", "balances"=>{"stocks"=>34126973}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9136776}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9136776, "qualified_withdrawal"=>9454752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18591528}}},
    {"date"=>"2054-01-01", "accounts"=>{"AA"=>{"date"=>"2054-01-01", "total_balance"=>217400230, "type"=>"_401k", "balances"=>{"stocks"=>172991009, "bonds"=>44409221}}, "AD"=>{"date"=>"2054-01-01", "total_balance"=>30100626, "type"=>"_401k", "balances"=>{"stocks"=>30100626}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9319512}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9319512, "qualified_withdrawal"=>9643848, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18963360}}},
    {"date"=>"2055-01-01", "accounts"=>{"AA"=>{"date"=>"2055-01-01", "total_balance"=>223384497, "type"=>"_401k", "balances"=>{"stocks"=>178440592, "bonds"=>44943905}}, "AD"=>{"date"=>"2055-01-01", "total_balance"=>25711222, "type"=>"_401k", "balances"=>{"stocks"=>25711222}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9505896}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9505896, "qualified_withdrawal"=>9836736, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19342632}}},
    {"date"=>"2056-01-01", "accounts"=>{"AA"=>{"date"=>"2056-01-01", "total_balance"=>229593319, "type"=>"_401k", "balances"=>{"stocks"=>184099096, "bonds"=>45494223}}, "AD"=>{"date"=>"2056-01-01", "total_balance"=>20934536, "type"=>"_401k", "balances"=>{"stocks"=>20934536}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9696024}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9696024, "qualified_withdrawal"=>10033464, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19729488}}},
    {"date"=>"2057-01-01", "accounts"=>{"AA"=>{"date"=>"2057-01-01", "total_balance"=>236072667, "type"=>"_401k", "balances"=>{"stocks"=>190006855, "bonds"=>46065812}}, "AD"=>{"date"=>"2057-01-01", "total_balance"=>15747376, "type"=>"_401k", "balances"=>{"stocks"=>15747376}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9889944}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9889944, "qualified_withdrawal"=>10234128, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20124072}}},
    {"date"=>"2058-01-01", "accounts"=>{"AA"=>{"date"=>"2058-01-01", "total_balance"=>242765267, "type"=>"_401k", "balances"=>{"stocks"=>196115555, "bonds"=>46649712}}, "AD"=>{"date"=>"2058-01-01", "total_balance"=>10117569, "type"=>"_401k", "balances"=>{"stocks"=>10117569}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10087740}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10087740, "qualified_withdrawal"=>10438812, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20526552}}},
    {"date"=>"2059-01-01", "accounts"=>{"AA"=>{"date"=>"2059-01-01", "total_balance"=>249716353, "type"=>"_401k", "balances"=>{"stocks"=>202464989, "bonds"=>47251364}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>4018486, "type"=>"_401k", "balances"=>{"stocks"=>4018486}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10289496}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10289496, "qualified_withdrawal"=>10647588, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20937084}}},
    {"date"=>"2060-01-01", "accounts"=>{"AA"=>{"date"=>"2060-01-01", "total_balance"=>254366998, "type"=>"_401k", "balances"=>{"stocks"=>206974581, "bonds"=>47392417}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10495284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10495284, "qualified_withdrawal"=>10860540, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21355824}}},
    {"date"=>"2061-01-01", "accounts"=>{"AA"=>{"date"=>"2061-01-01", "total_balance"=>254814315, "type"=>"_401k", "balances"=>{"stocks"=>208071991, "bonds"=>46742324}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10705188}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10705188, "qualified_withdrawal"=>11077752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21782940}}},
    {"date"=>"2062-01-01", "accounts"=>{"AA"=>{"date"=>"2062-01-01", "total_balance"=>254984355, "type"=>"_401k", "balances"=>{"stocks"=>208933970, "bonds"=>46050385}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10919280}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10919280, "qualified_withdrawal"=>11299320, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22218600}}},
    {"date"=>"2063-01-01", "accounts"=>{"AA"=>{"date"=>"2063-01-01", "total_balance"=>254893971, "type"=>"_401k", "balances"=>{"stocks"=>209574048, "bonds"=>45319923}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11137680}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11137680, "qualified_withdrawal"=>11525292, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22662972}}},
    {"date"=>"2064-01-01", "accounts"=>{"AA"=>{"date"=>"2064-01-01", "total_balance"=>254522633, "type"=>"_401k", "balances"=>{"stocks"=>209973136, "bonds"=>44549497}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11360436}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11360436, "qualified_withdrawal"=>11755800, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23116236}}},
    {"date"=>"2065-01-01", "accounts"=>{"AA"=>{"date"=>"2065-01-01", "total_balance"=>253886701, "type"=>"_401k", "balances"=>{"stocks"=>210144392, "bonds"=>43742309}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11587644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11587644, "qualified_withdrawal"=>11990916, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23578560}}},
    {"date"=>"2066-01-01", "accounts"=>{"AA"=>{"date"=>"2066-01-01", "total_balance"=>252888625, "type"=>"_401k", "balances"=>{"stocks"=>210000938, "bonds"=>42887687}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11819388}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11819388, "qualified_withdrawal"=>12230748, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>24050136}}},
    {"date"=>"2067-01-01", "accounts"=>{"AA"=>{"date"=>"2067-01-01", "total_balance"=>251539816, "type"=>"_401k", "balances"=>{"stocks"=>209551406, "bonds"=>41988410}}, "AD"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>nil}
    ]
  end

  def expected_5050_reallocation
    [
      {"date"=>"2017-12-14", "accounts"=>{"AA"=>{"date"=>"2017-12-14", "total_balance"=>50000000, "type"=>"_401k", "balances"=>{"stocks"=>30000000, "bonds"=>20000000}}, "AD"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>20000000}}}, "cashflow"=>{"pretax"=>{}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>0}}},
      {"date"=>"2018-01-01", "accounts"=>{"AA"=>{"date"=>"2018-01-01", "total_balance"=>50120343, "type"=>"_401k", "balances"=>{"stocks"=>25071942, "bonds"=>25048401}}, "AD"=>{"date"=>"2018-01-01", "total_balance"=>20048137, "type"=>"_401k", "balances"=>{"stocks"=>10028777, "bonds"=>10019360}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2019-01-01", "accounts"=>{"AA"=>{"date"=>"2019-01-01", "total_balance"=>53658697, "type"=>"_401k", "balances"=>{"stocks"=>27596119, "bonds"=>26062578}}, "AD"=>{"date"=>"2019-01-01", "total_balance"=>21824801, "type"=>"_401k", "balances"=>{"stocks"=>11399770, "bonds"=>10425031}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2020-01-01", "accounts"=>{"AA"=>{"date"=>"2020-01-01", "total_balance"=>57373970, "type"=>"_401k", "balances"=>{"stocks"=>29471446, "bonds"=>27902524}}, "AD"=>{"date"=>"2020-01-01", "total_balance"=>23690299, "type"=>"_401k", "balances"=>{"stocks"=>12341401, "bonds"=>11348898}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2021-01-01", "accounts"=>{"AA"=>{"date"=>"2021-01-01", "total_balance"=>61283093, "type"=>"_401k", "balances"=>{"stocks"=>31445423, "bonds"=>29837670}}, "AD"=>{"date"=>"2021-01-01", "total_balance"=>25652420, "type"=>"_401k", "balances"=>{"stocks"=>13332140, "bonds"=>12320280}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2022-01-01", "accounts"=>{"AA"=>{"date"=>"2022-01-01", "total_balance"=>65379584, "type"=>"_401k", "balances"=>{"stocks"=>33512378, "bonds"=>31867206}}, "AD"=>{"date"=>"2022-01-01", "total_balance"=>27709296, "type"=>"_401k", "balances"=>{"stocks"=>14370039, "bonds"=>13339257}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2023-01-01", "accounts"=>{"AA"=>{"date"=>"2023-01-01", "total_balance"=>69680900, "type"=>"_401k", "balances"=>{"stocks"=>35683517, "bonds"=>33997383}}, "AD"=>{"date"=>"2023-01-01", "total_balance"=>29869018, "type"=>"_401k", "balances"=>{"stocks"=>15460182, "bonds"=>14408836}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2024-01-01", "accounts"=>{"AA"=>{"date"=>"2024-01-01", "total_balance"=>74197283, "type"=>"_401k", "balances"=>{"stocks"=>37963214, "bonds"=>36234069}}, "AD"=>{"date"=>"2024-01-01", "total_balance"=>32136725, "type"=>"_401k", "balances"=>{"stocks"=>16604835, "bonds"=>15531890}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2025-01-01", "accounts"=>{"AA"=>{"date"=>"2025-01-01", "total_balance"=>78949937, "type"=>"_401k", "balances"=>{"stocks"=>40363205, "bonds"=>38586732}}, "AD"=>{"date"=>"2025-01-01", "total_balance"=>34522354, "type"=>"_401k", "balances"=>{"stocks"=>17809462, "bonds"=>16712892}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2026-01-01", "accounts"=>{"AA"=>{"date"=>"2026-01-01", "total_balance"=>83929771, "type"=>"_401k", "balances"=>{"stocks"=>42875803, "bonds"=>41053968}}, "AD"=>{"date"=>"2026-01-01", "total_balance"=>37022729, "type"=>"_401k", "balances"=>{"stocks"=>19071104, "bonds"=>17951625}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2027-01-01", "accounts"=>{"AA"=>{"date"=>"2027-01-01", "total_balance"=>89158599, "type"=>"_401k", "balances"=>{"stocks"=>45515117, "bonds"=>43643482}}, "AD"=>{"date"=>"2027-01-01", "total_balance"=>39648124, "type"=>"_401k", "balances"=>{"stocks"=>20396303, "bonds"=>19251821}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2028-01-01", "accounts"=>{"AA"=>{"date"=>"2028-01-01", "total_balance"=>94648869, "type"=>"_401k", "balances"=>{"stocks"=>48286396, "bonds"=>46362473}}, "AD"=>{"date"=>"2028-01-01", "total_balance"=>42404788, "type"=>"_401k", "balances"=>{"stocks"=>21787762, "bonds"=>20617026}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2029-01-01", "accounts"=>{"AA"=>{"date"=>"2029-01-01", "total_balance"=>100426977, "type"=>"_401k", "balances"=>{"stocks"=>51204275, "bonds"=>49222702}}, "AD"=>{"date"=>"2029-01-01", "total_balance"=>45305261, "type"=>"_401k", "balances"=>{"stocks"=>23252403, "bonds"=>22052858}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2030-01-01", "accounts"=>{"AA"=>{"date"=>"2030-01-01", "total_balance"=>106480662, "type"=>"_401k", "balances"=>{"stocks"=>54258634, "bonds"=>52222028}}, "AD"=>{"date"=>"2030-01-01", "total_balance"=>48344780, "type"=>"_401k", "balances"=>{"stocks"=>24786045, "bonds"=>23558735}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2031-01-01", "accounts"=>{"AA"=>{"date"=>"2031-01-01", "total_balance"=>112837032, "type"=>"_401k", "balances"=>{"stocks"=>57467087, "bonds"=>55369945}}, "AD"=>{"date"=>"2031-01-01", "total_balance"=>51536274, "type"=>"_401k", "balances"=>{"stocks"=>26396989, "bonds"=>25139285}}}, "cashflow"=>{"pretax"=>{"w2_income"=>8525000, "ss_income"=>3963850}, "posttax"=>{"w2_income"=>7033125, "gty_income"=>0, "ss_income"=>3963850, "qualified_withdrawal"=>1262280, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12259255}}},
      {"date"=>"2032-01-01", "accounts"=>{"AA"=>{"date"=>"2032-01-01", "total_balance"=>117855151, "type"=>"_401k", "balances"=>{"stocks"=>59575480, "bonds"=>58279671}}, "AD"=>{"date"=>"2032-01-01", "total_balance"=>54103264, "type"=>"_401k", "balances"=>{"stocks"=>27689476, "bonds"=>26413788}}}, "cashflow"=>{"pretax"=>{"w2_income"=>6975000, "ss_income"=>4851756}, "posttax"=>{"w2_income"=>5754375, "gty_income"=>0, "ss_income"=>4851756, "qualified_withdrawal"=>1660116, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12266247}}},
      {"date"=>"2033-01-01", "accounts"=>{"AA"=>{"date"=>"2033-01-01", "total_balance"=>122707880, "type"=>"_401k", "balances"=>{"stocks"=>61939865, "bonds"=>60768015}}, "AD"=>{"date"=>"2033-01-01", "total_balance"=>56555579, "type"=>"_401k", "balances"=>{"stocks"=>28927695, "bonds"=>27627884}}}, "cashflow"=>{"pretax"=>{"w2_income"=>2325000, "ss_income"=>5748788}, "posttax"=>{"w2_income"=>1918125, "gty_income"=>0, "ss_income"=>5748788, "qualified_withdrawal"=>4844660, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12511573}}},
      {"date"=>"2034-01-01", "accounts"=>{"AA"=>{"date"=>"2034-01-01", "total_balance"=>125760301, "type"=>"_401k", "balances"=>{"stocks"=>63479009, "bonds"=>62281292}}, "AD"=>{"date"=>"2034-01-01", "total_balance"=>56597962, "type"=>"_401k", "balances"=>{"stocks"=>28692430, "bonds"=>27905532}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6271764}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6271764, "qualified_withdrawal"=>6490032, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>12761796}}},
      {"date"=>"2035-01-01", "accounts"=>{"AA"=>{"date"=>"2035-01-01", "total_balance"=>127918302, "type"=>"_401k", "balances"=>{"stocks"=>64568287, "bonds"=>63350015}}, "AD"=>{"date"=>"2035-01-01", "total_balance"=>55297844, "type"=>"_401k", "balances"=>{"stocks"=>27912245, "bonds"=>27385599}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6397200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6397200, "qualified_withdrawal"=>6619836, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13017036}}},
      {"date"=>"2036-01-01", "accounts"=>{"AA"=>{"date"=>"2036-01-01", "total_balance"=>130101583, "type"=>"_401k", "balances"=>{"stocks"=>65670323, "bonds"=>64431260}}, "AD"=>{"date"=>"2036-01-01", "total_balance"=>53850115, "type"=>"_401k", "balances"=>{"stocks"=>27181487, "bonds"=>26668628}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6525144}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6525144, "qualified_withdrawal"=>6752232, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13277376}}},
      {"date"=>"2037-01-01", "accounts"=>{"AA"=>{"date"=>"2037-01-01", "total_balance"=>132327490, "type"=>"_401k", "balances"=>{"stocks"=>66795602, "bonds"=>65531888}}, "AD"=>{"date"=>"2037-01-01", "total_balance"=>52252735, "type"=>"_401k", "balances"=>{"stocks"=>26375872, "bonds"=>25876863}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6655644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6655644, "qualified_withdrawal"=>6887280, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13542924}}},
      {"date"=>"2038-01-01", "accounts"=>{"AA"=>{"date"=>"2038-01-01", "total_balance"=>134561056, "type"=>"_401k", "balances"=>{"stocks"=>67921295, "bonds"=>66639761}}, "AD"=>{"date"=>"2038-01-01", "total_balance"=>50482564, "type"=>"_401k", "balances"=>{"stocks"=>25481675, "bonds"=>25000889}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6788760}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6788760, "qualified_withdrawal"=>7025028, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13813788}}},
      {"date"=>"2039-01-01", "accounts"=>{"AA"=>{"date"=>"2039-01-01", "total_balance"=>136818629, "type"=>"_401k", "balances"=>{"stocks"=>69060832, "bonds"=>67757797}}, "AD"=>{"date"=>"2039-01-01", "total_balance"=>48536225, "type"=>"_401k", "balances"=>{"stocks"=>24499237, "bonds"=>24036988}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6924528}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6924528, "qualified_withdrawal"=>7165536, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14090064}}},
      {"date"=>"2040-01-01", "accounts"=>{"AA"=>{"date"=>"2040-01-01", "total_balance"=>139099672, "type"=>"_401k", "balances"=>{"stocks"=>70212215, "bonds"=>68887457}}, "AD"=>{"date"=>"2040-01-01", "total_balance"=>46403147, "type"=>"_401k", "balances"=>{"stocks"=>23422541, "bonds"=>22980606}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7063032}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7063032, "qualified_withdrawal"=>7308828, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14371860}}},
      {"date"=>"2041-01-01", "accounts"=>{"AA"=>{"date"=>"2041-01-01", "total_balance"=>141422501, "type"=>"_401k", "balances"=>{"stocks"=>71386536, "bonds"=>70035965}}, "AD"=>{"date"=>"2041-01-01", "total_balance"=>44078140, "type"=>"_401k", "balances"=>{"stocks"=>22249541, "bonds"=>21828599}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7204284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7204284, "qualified_withdrawal"=>7455012, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14659296}}},
      {"date"=>"2042-01-01", "accounts"=>{"AA"=>{"date"=>"2042-01-01", "total_balance"=>143749525, "type"=>"_401k", "balances"=>{"stocks"=>72559284, "bonds"=>71190241}}, "AD"=>{"date"=>"2042-01-01", "total_balance"=>41537958, "type"=>"_401k", "balances"=>{"stocks"=>20966779, "bonds"=>20571179}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7348368}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7348368, "qualified_withdrawal"=>7604112, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>14952480}}},
      {"date"=>"2043-01-01", "accounts"=>{"AA"=>{"date"=>"2043-01-01", "total_balance"=>146098022, "type"=>"_401k", "balances"=>{"stocks"=>73744716, "bonds"=>72353306}}, "AD"=>{"date"=>"2043-01-01", "total_balance"=>38775876, "type"=>"_401k", "balances"=>{"stocks"=>19572585, "bonds"=>19203291}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7495332}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7495332, "qualified_withdrawal"=>7756200, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15251532}}},
      {"date"=>"2044-01-01", "accounts"=>{"AA"=>{"date"=>"2044-01-01", "total_balance"=>148467163, "type"=>"_401k", "balances"=>{"stocks"=>74940568, "bonds"=>73526595}}, "AD"=>{"date"=>"2044-01-01", "total_balance"=>35778910, "type"=>"_401k", "balances"=>{"stocks"=>18059831, "bonds"=>17719079}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7645236}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7645236, "qualified_withdrawal"=>7911324, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15556560}}},
      {"date"=>"2045-01-01", "accounts"=>{"AA"=>{"date"=>"2045-01-01", "total_balance"=>150876227, "type"=>"_401k", "balances"=>{"stocks"=>76158540, "bonds"=>74717687}}, "AD"=>{"date"=>"2045-01-01", "total_balance"=>32537740, "type"=>"_401k", "balances"=>{"stocks"=>16424236, "bonds"=>16113504}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7798152}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7798152, "qualified_withdrawal"=>8069544, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>15867696}}},
      {"date"=>"2046-01-01", "accounts"=>{"AA"=>{"date"=>"2046-01-01", "total_balance"=>153284872, "type"=>"_401k", "balances"=>{"stocks"=>77372365, "bonds"=>75912507}}, "AD"=>{"date"=>"2046-01-01", "total_balance"=>29029459, "type"=>"_401k", "balances"=>{"stocks"=>14652965, "bonds"=>14376494}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7954116}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7954116, "qualified_withdrawal"=>8230932, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16185048}}},
      {"date"=>"2047-01-01", "accounts"=>{"AA"=>{"date"=>"2047-01-01", "total_balance"=>155711245, "type"=>"_401k", "balances"=>{"stocks"=>78597105, "bonds"=>77114140}}, "AD"=>{"date"=>"2047-01-01", "total_balance"=>25243075, "type"=>"_401k", "balances"=>{"stocks"=>12741744, "bonds"=>12501331}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8113200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8113200, "qualified_withdrawal"=>8395548, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16508748}}},
      {"date"=>"2048-01-01", "accounts"=>{"AA"=>{"date"=>"2048-01-01", "total_balance"=>158154182, "type"=>"_401k", "balances"=>{"stocks"=>79830206, "bonds"=>78323976}}, "AD"=>{"date"=>"2048-01-01", "total_balance"=>21162615, "type"=>"_401k", "balances"=>{"stocks"=>10682083, "bonds"=>10480532}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8275464}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8275464, "qualified_withdrawal"=>8563464, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>16838928}}},
      {"date"=>"2049-01-01", "accounts"=>{"AA"=>{"date"=>"2049-01-01", "total_balance"=>160633907, "type"=>"_401k", "balances"=>{"stocks"=>81083972, "bonds"=>79549935}}, "AD"=>{"date"=>"2049-01-01", "total_balance"=>16773516, "type"=>"_401k", "balances"=>{"stocks"=>8466851, "bonds"=>8306665}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8440968}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8440968, "qualified_withdrawal"=>8734740, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17175708}}},
      {"date"=>"2050-01-01", "accounts"=>{"AA"=>{"date"=>"2050-01-01", "total_balance"=>163107126, "type"=>"_401k", "balances"=>{"stocks"=>82330265, "bonds"=>80776861}}, "AD"=>{"date"=>"2050-01-01", "total_balance"=>12053727, "type"=>"_401k", "balances"=>{"stocks"=>6084262, "bonds"=>5969465}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8609784}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8609784, "qualified_withdrawal"=>8909436, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17519220}}},
      {"date"=>"2051-01-01", "accounts"=>{"AA"=>{"date"=>"2051-01-01", "total_balance"=>165592835, "type"=>"_401k", "balances"=>{"stocks"=>83584955, "bonds"=>82007880}}, "AD"=>{"date"=>"2051-01-01", "total_balance"=>6986779, "type"=>"_401k", "balances"=>{"stocks"=>3526661, "bonds"=>3460118}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8781984}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8781984, "qualified_withdrawal"=>9087612, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17869596}}},
      {"date"=>"2052-01-01", "accounts"=>{"AA"=>{"date"=>"2052-01-01", "total_balance"=>168089444, "type"=>"_401k", "balances"=>{"stocks"=>84845149, "bonds"=>83244295}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>1553097, "type"=>"_401k", "balances"=>{"stocks"=>783944, "bonds"=>769153}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8957616}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8957616, "qualified_withdrawal"=>9269376, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18226992}}},
      {"date"=>"2053-01-01", "accounts"=>{"AA"=>{"date"=>"2053-01-01", "total_balance"=>166349535, "type"=>"_401k", "balances"=>{"stocks"=>83969079, "bonds"=>82380456}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9136776}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9136776, "qualified_withdrawal"=>9454752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18591528}}},
      {"date"=>"2054-01-01", "accounts"=>{"AA"=>{"date"=>"2054-01-01", "total_balance"=>162633698, "type"=>"_401k", "balances"=>{"stocks"=>82091296, "bonds"=>80542402}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9319512}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9319512, "qualified_withdrawal"=>9643848, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18963360}}},
      {"date"=>"2055-01-01", "accounts"=>{"AA"=>{"date"=>"2055-01-01", "total_balance"=>158491396, "type"=>"_401k", "balances"=>{"stocks"=>80000419, "bonds"=>78490977}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9505896}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9505896, "qualified_withdrawal"=>9836736, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19342632}}},
      {"date"=>"2056-01-01", "accounts"=>{"AA"=>{"date"=>"2056-01-01", "total_balance"=>153896480, "type"=>"_401k", "balances"=>{"stocks"=>77681080, "bonds"=>76215400}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9696024}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9696024, "qualified_withdrawal"=>10033464, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19729488}}},
      {"date"=>"2057-01-01", "accounts"=>{"AA"=>{"date"=>"2057-01-01", "total_balance"=>148841356, "type"=>"_401k", "balances"=>{"stocks"=>75131388, "bonds"=>73709968}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9889944}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9889944, "qualified_withdrawal"=>10234128, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20124072}}},
      {"date"=>"2058-01-01", "accounts"=>{"AA"=>{"date"=>"2058-01-01", "total_balance"=>143258174, "type"=>"_401k", "balances"=>{"stocks"=>72311269, "bonds"=>70946905}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10087740}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10087740, "qualified_withdrawal"=>10438812, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20526552}}},
      {"date"=>"2059-01-01", "accounts"=>{"AA"=>{"date"=>"2059-01-01", "total_balance"=>137135327, "type"=>"_401k", "balances"=>{"stocks"=>69220689, "bonds"=>67914638}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10289496}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10289496, "qualified_withdrawal"=>10647588, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20937084}}},
      {"date"=>"2060-01-01", "accounts"=>{"AA"=>{"date"=>"2060-01-01", "total_balance"=>130440618, "type"=>"_401k", "balances"=>{"stocks"=>65841455, "bonds"=>64599163}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10495284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10495284, "qualified_withdrawal"=>10860540, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21355824}}},
      {"date"=>"2061-01-01", "accounts"=>{"AA"=>{"date"=>"2061-01-01", "total_balance"=>123156623, "type"=>"_401k", "balances"=>{"stocks"=>62166378, "bonds"=>60990245}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10705188}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10705188, "qualified_withdrawal"=>11077752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21782940}}},
      {"date"=>"2062-01-01", "accounts"=>{"AA"=>{"date"=>"2062-01-01", "total_balance"=>115215496, "type"=>"_401k", "balances"=>{"stocks"=>58156394, "bonds"=>57059102}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10919280}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10919280, "qualified_withdrawal"=>11299320, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22218600}}},
      {"date"=>"2063-01-01", "accounts"=>{"AA"=>{"date"=>"2063-01-01", "total_balance"=>106595324, "type"=>"_401k", "balances"=>{"stocks"=>53805259, "bonds"=>52790065}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11137680}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11137680, "qualified_withdrawal"=>11525292, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22662972}}},
      {"date"=>"2064-01-01", "accounts"=>{"AA"=>{"date"=>"2064-01-01", "total_balance"=>97256535, "type"=>"_401k", "balances"=>{"stocks"=>49091394, "bonds"=>48165141}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11360436}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11360436, "qualified_withdrawal"=>11755800, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23116236}}},
      {"date"=>"2065-01-01", "accounts"=>{"AA"=>{"date"=>"2065-01-01", "total_balance"=>87169092, "type"=>"_401k", "balances"=>{"stocks"=>44000775, "bonds"=>43168317}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11587644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11587644, "qualified_withdrawal"=>11990916, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>23578560}}},
      {"date"=>"2066-01-01", "accounts"=>{"AA"=>{"date"=>"2066-01-01", "total_balance"=>76266376, "type"=>"_401k", "balances"=>{"stocks"=>38496361, "bonds"=>37770015}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11819388}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11819388, "qualified_withdrawal"=>12230748, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>24050136}}},
      {"date"=>"2067-01-01", "accounts"=>{"AA"=>{"date"=>"2067-01-01", "total_balance"=>64513290, "type"=>"_401k", "balances"=>{"stocks"=>32563851, "bonds"=>31949439}}, "AD"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}}, "cashflow"=>nil}
    ]
  end

  def expected_tax_sequence
    [
      {"date"=>"2017-12-14", "accounts"=>{"AA"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>12000000, "bonds"=>8000000}}, "AB"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"roth_ira", "balances"=>{"stocks"=>12000000, "bonds"=>8000000}}, "AC"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"brokerage", "balances"=>{"stocks"=>10000000, "bonds"=>10000000}}, "AF"=>{"date"=>"2017-12-14", "total_balance"=>20000000, "type"=>"_401k", "balances"=>{"stocks"=>20000000}}}, "cashflow"=>{"pretax"=>{}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>0}}},
      {"date"=>"2018-01-01", "accounts"=>{"AA"=>{"date"=>"2018-01-01", "total_balance"=>20050020, "type"=>"_401k", "balances"=>{"stocks"=>12034532, "bonds"=>8015488}}, "AB"=>{"date"=>"2018-01-01", "total_balance"=>20050020, "type"=>"roth_ira", "balances"=>{"stocks"=>12034532, "bonds"=>8015488}}, "AC"=>{"date"=>"2018-01-01", "total_balance"=>20048137, "type"=>"brokerage", "balances"=>{"stocks"=>10028777, "bonds"=>10019360}}, "AF"=>{"date"=>"2018-01-01", "total_balance"=>20057553, "type"=>"_401k", "balances"=>{"stocks"=>20057553}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2019-01-01", "accounts"=>{"AA"=>{"date"=>"2019-01-01", "total_balance"=>22125049, "type"=>"_401k", "balances"=>{"stocks"=>13788941, "bonds"=>8336108}}, "AB"=>{"date"=>"2019-01-01", "total_balance"=>21092712, "type"=>"roth_ira", "balances"=>{"stocks"=>12756604, "bonds"=>8336108}}, "AC"=>{"date"=>"2019-01-01", "total_balance"=>21050638, "type"=>"brokerage", "balances"=>{"stocks"=>10630504, "bonds"=>10420134}}, "AF"=>{"date"=>"2019-01-01", "total_balance"=>22035261, "type"=>"_401k", "balances"=>{"stocks"=>22035261}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2020-01-01", "accounts"=>{"AA"=>{"date"=>"2020-01-01", "total_balance"=>24318167, "type"=>"_401k", "balances"=>{"stocks"=>15648615, "bonds"=>8669552}}, "AB"=>{"date"=>"2020-01-01", "total_balance"=>22191552, "type"=>"roth_ira", "balances"=>{"stocks"=>13522000, "bonds"=>8669552}}, "AC"=>{"date"=>"2020-01-01", "total_balance"=>22105273, "type"=>"brokerage", "balances"=>{"stocks"=>11268334, "bonds"=>10836939}}, "AF"=>{"date"=>"2020-01-01", "total_balance"=>24131633, "type"=>"_401k", "balances"=>{"stocks"=>24131633}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2021-01-01", "accounts"=>{"AA"=>{"date"=>"2021-01-01", "total_balance"=>26639846, "type"=>"_401k", "balances"=>{"stocks"=>17622545, "bonds"=>9017301}}, "AB"=>{"date"=>"2021-01-01", "total_balance"=>23352911, "type"=>"roth_ira", "balances"=>{"stocks"=>14335608, "bonds"=>9017303}}, "AC"=>{"date"=>"2021-01-01", "total_balance"=>23217969, "type"=>"brokerage", "balances"=>{"stocks"=>11946341, "bonds"=>11271628}}, "AF"=>{"date"=>"2021-01-01", "total_balance"=>26357891, "type"=>"_401k", "balances"=>{"stocks"=>26357891}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2022-01-01", "accounts"=>{"AA"=>{"date"=>"2022-01-01", "total_balance"=>29090229, "type"=>"_401k", "balances"=>{"stocks"=>19712235, "bonds"=>9377994}}, "AB"=>{"date"=>"2022-01-01", "total_balance"=>24573739, "type"=>"roth_ira", "balances"=>{"stocks"=>15195744, "bonds"=>9377995}}, "AC"=>{"date"=>"2022-01-01", "total_balance"=>24385614, "type"=>"brokerage", "balances"=>{"stocks"=>12663121, "bonds"=>11722493}}, "AF"=>{"date"=>"2022-01-01", "total_balance"=>28713621, "type"=>"_401k", "balances"=>{"stocks"=>28713621}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2023-01-01", "accounts"=>{"AA"=>{"date"=>"2023-01-01", "total_balance"=>31680417, "type"=>"_401k", "balances"=>{"stocks"=>21927305, "bonds"=>9753112}}, "AB"=>{"date"=>"2023-01-01", "total_balance"=>25860604, "type"=>"roth_ira", "balances"=>{"stocks"=>16107489, "bonds"=>9753115}}, "AC"=>{"date"=>"2023-01-01", "total_balance"=>25614301, "type"=>"brokerage", "balances"=>{"stocks"=>13422908, "bonds"=>12191393}}, "AF"=>{"date"=>"2023-01-01", "total_balance"=>31210694, "type"=>"_401k", "balances"=>{"stocks"=>31210694}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2024-01-01", "accounts"=>{"AA"=>{"date"=>"2024-01-01", "total_balance"=>34418517, "type"=>"_401k", "balances"=>{"stocks"=>24275280, "bonds"=>10143237}}, "AB"=>{"date"=>"2024-01-01", "total_balance"=>27217178, "type"=>"roth_ira", "balances"=>{"stocks"=>17073938, "bonds"=>10143240}}, "AC"=>{"date"=>"2024-01-01", "total_balance"=>26907331, "type"=>"brokerage", "balances"=>{"stocks"=>14228282, "bonds"=>12679049}}, "AF"=>{"date"=>"2024-01-01", "total_balance"=>33857592, "type"=>"_401k", "balances"=>{"stocks"=>33857592}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2025-01-01", "accounts"=>{"AA"=>{"date"=>"2025-01-01", "total_balance"=>37318371, "type"=>"_401k", "balances"=>{"stocks"=>26768270, "bonds"=>10550101}}, "AB"=>{"date"=>"2025-01-01", "total_balance"=>28651367, "type"=>"roth_ira", "balances"=>{"stocks"=>18101264, "bonds"=>10550103}}, "AC"=>{"date"=>"2025-01-01", "total_balance"=>28272015, "type"=>"brokerage", "balances"=>{"stocks"=>15084387, "bonds"=>13187628}}, "AF"=>{"date"=>"2025-01-01", "total_balance"=>36669054, "type"=>"_401k", "balances"=>{"stocks"=>36669054}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2026-01-01", "accounts"=>{"AA"=>{"date"=>"2026-01-01", "total_balance"=>40378812, "type"=>"_401k", "balances"=>{"stocks"=>29406705, "bonds"=>10972107}}, "AB"=>{"date"=>"2026-01-01", "total_balance"=>30159447, "type"=>"roth_ira", "balances"=>{"stocks"=>19187340, "bonds"=>10972107}}, "AC"=>{"date"=>"2026-01-01", "total_balance"=>29704583, "type"=>"brokerage", "balances"=>{"stocks"=>15989450, "bonds"=>13715133}}, "AF"=>{"date"=>"2026-01-01", "total_balance"=>39643454, "type"=>"_401k", "balances"=>{"stocks"=>39643454}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2027-01-01", "accounts"=>{"AA"=>{"date"=>"2027-01-01", "total_balance"=>43614435, "type"=>"_401k", "balances"=>{"stocks"=>32203444, "bonds"=>11410991}}, "AB"=>{"date"=>"2027-01-01", "total_balance"=>31749571, "type"=>"roth_ira", "balances"=>{"stocks"=>20338580, "bonds"=>11410991}}, "AC"=>{"date"=>"2027-01-01", "total_balance"=>31212555, "type"=>"brokerage", "balances"=>{"stocks"=>16948817, "bonds"=>14263738}}, "AF"=>{"date"=>"2027-01-01", "total_balance"=>42796318, "type"=>"_401k", "balances"=>{"stocks"=>42796318}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2028-01-01", "accounts"=>{"AA"=>{"date"=>"2028-01-01", "total_balance"=>47035418, "type"=>"_401k", "balances"=>{"stocks"=>35167987, "bonds"=>11867431}}, "AB"=>{"date"=>"2028-01-01", "total_balance"=>33426326, "type"=>"roth_ira", "balances"=>{"stocks"=>21558895, "bonds"=>11867431}}, "AC"=>{"date"=>"2028-01-01", "total_balance"=>32800034, "type"=>"brokerage", "balances"=>{"stocks"=>17965746, "bonds"=>14834288}}, "AF"=>{"date"=>"2028-01-01", "total_balance"=>46138353, "type"=>"_401k", "balances"=>{"stocks"=>46138353}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2029-01-01", "accounts"=>{"AA"=>{"date"=>"2029-01-01", "total_balance"=>50659834, "type"=>"_401k", "balances"=>{"stocks"=>38316381, "bonds"=>12343453}}, "AB"=>{"date"=>"2029-01-01", "total_balance"=>35199532, "type"=>"roth_ira", "balances"=>{"stocks"=>22856077, "bonds"=>12343455}}, "AC"=>{"date"=>"2029-01-01", "total_balance"=>34476048, "type"=>"brokerage", "balances"=>{"stocks"=>19046731, "bonds"=>15429317}}, "AF"=>{"date"=>"2029-01-01", "total_balance"=>49688739, "type"=>"_401k", "balances"=>{"stocks"=>49688739}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2030-01-01", "accounts"=>{"AA"=>{"date"=>"2030-01-01", "total_balance"=>54484895, "type"=>"_401k", "balances"=>{"stocks"=>41647704, "bonds"=>12837191}}, "AB"=>{"date"=>"2030-01-01", "total_balance"=>37064635, "type"=>"roth_ira", "balances"=>{"stocks"=>24227442, "bonds"=>12837193}}, "AC"=>{"date"=>"2030-01-01", "total_balance"=>36236025, "type"=>"brokerage", "balances"=>{"stocks"=>20189535, "bonds"=>16046490}}, "AF"=>{"date"=>"2030-01-01", "total_balance"=>53444320, "type"=>"_401k", "balances"=>{"stocks"=>53444320}}}, "cashflow"=>{"pretax"=>{"w2_income"=>16275000}, "posttax"=>{"w2_income"=>13426875, "gty_income"=>0, "ss_income"=>0, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>13426875}}},
      {"date"=>"2031-01-01", "accounts"=>{"AA"=>{"date"=>"2031-01-01", "total_balance"=>58529583, "type"=>"_401k", "balances"=>{"stocks"=>45178904, "bonds"=>13350679}}, "AB"=>{"date"=>"2031-01-01", "total_balance"=>39031770, "type"=>"roth_ira", "balances"=>{"stocks"=>25681089, "bonds"=>13350681}}, "AC"=>{"date"=>"2031-01-01", "total_balance"=>38089257, "type"=>"brokerage", "balances"=>{"stocks"=>21400907, "bonds"=>16688350}}, "AF"=>{"date"=>"2031-01-01", "total_balance"=>57425236, "type"=>"_401k", "balances"=>{"stocks"=>57425236}}}, "cashflow"=>{"pretax"=>{"w2_income"=>8525000, "ss_income"=>3963850}, "posttax"=>{"w2_income"=>7033125, "gty_income"=>0, "ss_income"=>3963850, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>8534700, "total"=>19531675}}},
      {"date"=>"2032-01-01", "accounts"=>{"AA"=>{"date"=>"2032-01-01", "total_balance"=>61950571, "type"=>"_401k", "balances"=>{"stocks"=>48065866, "bonds"=>13884705}}, "AB"=>{"date"=>"2032-01-01", "total_balance"=>41106662, "type"=>"roth_ira", "balances"=>{"stocks"=>27221955, "bonds"=>13884707}}, "AC"=>{"date"=>"2032-01-01", "total_balance"=>30336038, "type"=>"brokerage", "balances"=>{"stocks"=>17186746, "bonds"=>13149292}}, "AF"=>{"date"=>"2032-01-01", "total_balance"=>61645006, "type"=>"_401k", "balances"=>{"stocks"=>61645006}}}, "cashflow"=>{"pretax"=>{"w2_income"=>6975000, "ss_income"=>4851756}, "posttax"=>{"w2_income"=>5754375, "gty_income"=>0, "ss_income"=>4851756, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>10446468, "total"=>21052599}}},
      {"date"=>"2033-01-01", "accounts"=>{"AA"=>{"date"=>"2033-01-01", "total_balance"=>65399595, "type"=>"_401k", "balances"=>{"stocks"=>50957951, "bonds"=>14441644}}, "AB"=>{"date"=>"2033-01-01", "total_balance"=>43301526, "type"=>"roth_ira", "balances"=>{"stocks"=>28859880, "bonds"=>14441646}}, "AC"=>{"date"=>"2033-01-01", "total_balance"=>19968478, "type"=>"brokerage", "balances"=>{"stocks"=>11406593, "bonds"=>8561885}}, "AF"=>{"date"=>"2033-01-01", "total_balance"=>66128413, "type"=>"_401k", "balances"=>{"stocks"=>66128413}}}, "cashflow"=>{"pretax"=>{"w2_income"=>2325000, "ss_income"=>5748788}, "posttax"=>{"w2_income"=>1918125, "gty_income"=>0, "ss_income"=>5748788, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>10655400, "total"=>18322313}}},
      {"date"=>"2034-01-01", "accounts"=>{"AA"=>{"date"=>"2034-01-01", "total_balance"=>69034741, "type"=>"_401k", "balances"=>{"stocks"=>54015431, "bonds"=>15019310}}, "AB"=>{"date"=>"2034-01-01", "total_balance"=>45610785, "type"=>"roth_ira", "balances"=>{"stocks"=>30591473, "bonds"=>15019312}}, "AC"=>{"date"=>"2034-01-01", "total_balance"=>8827348, "type"=>"brokerage", "balances"=>{"stocks"=>5083572, "bonds"=>3743776}}, "AF"=>{"date"=>"2034-01-01", "total_balance"=>70359223, "type"=>"_401k", "balances"=>{"stocks"=>70359223}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6271764}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6271764, "qualified_withdrawal"=>2792522, "roth_withdrawal"=>0, "regular_withdrawal"=>8075986, "total"=>17140272}}},
      {"date"=>"2035-01-01", "accounts"=>{"AA"=>{"date"=>"2035-01-01", "total_balance"=>71187235, "type"=>"_401k", "balances"=>{"stocks"=>55929211, "bonds"=>15258024}}, "AB"=>{"date"=>"2035-01-01", "total_balance"=>48047048, "type"=>"roth_ira", "balances"=>{"stocks"=>32426962, "bonds"=>15620086}}, "AC"=>{"date"=>"2035-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2035-01-01", "total_balance"=>72852068, "type"=>"_401k", "balances"=>{"stocks"=>72852068}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6397200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6397200, "qualified_withdrawal"=>11085876, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17483076}}},
      {"date"=>"2036-01-01", "accounts"=>{"AA"=>{"date"=>"2036-01-01", "total_balance"=>68319014, "type"=>"_401k", "balances"=>{"stocks"=>53893704, "bonds"=>14425310}}, "AB"=>{"date"=>"2036-01-01", "total_balance"=>50617469, "type"=>"roth_ira", "balances"=>{"stocks"=>34372580, "bonds"=>16244889}}, "AC"=>{"date"=>"2036-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2036-01-01", "total_balance"=>70200663, "type"=>"_401k", "balances"=>{"stocks"=>70200663}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6525144}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6525144, "qualified_withdrawal"=>11307600, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>17832744}}},
      {"date"=>"2037-01-01", "accounts"=>{"AA"=>{"date"=>"2037-01-01", "total_balance"=>65183216, "type"=>"_401k", "balances"=>{"stocks"=>51626251, "bonds"=>13556965}}, "AB"=>{"date"=>"2037-01-01", "total_balance"=>53337253, "type"=>"roth_ira", "balances"=>{"stocks"=>36440752, "bonds"=>16896501}}, "AC"=>{"date"=>"2037-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2037-01-01", "total_balance"=>67247135, "type"=>"_401k", "balances"=>{"stocks"=>67247135}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6655644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6655644, "qualified_withdrawal"=>11533752, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18189396}}},
      {"date"=>"2038-01-01", "accounts"=>{"AA"=>{"date"=>"2038-01-01", "total_balance"=>61740993, "type"=>"_401k", "balances"=>{"stocks"=>49092598, "bonds"=>12648395}}, "AB"=>{"date"=>"2038-01-01", "total_balance"=>56199557, "type"=>"roth_ira", "balances"=>{"stocks"=>38627197, "bonds"=>17572360}}, "AC"=>{"date"=>"2038-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2038-01-01", "total_balance"=>63946860, "type"=>"_401k", "balances"=>{"stocks"=>63946860}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6788760}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6788760, "qualified_withdrawal"=>11764428, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18553188}}},
      {"date"=>"2039-01-01", "accounts"=>{"AA"=>{"date"=>"2039-01-01", "total_balance"=>57982865, "type"=>"_401k", "balances"=>{"stocks"=>46283270, "bonds"=>11699595}}, "AB"=>{"date"=>"2039-01-01", "total_balance"=>59220080, "type"=>"roth_ira", "balances"=>{"stocks"=>40944828, "bonds"=>18275252}}, "AC"=>{"date"=>"2039-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2039-01-01", "total_balance"=>60287495, "type"=>"_401k", "balances"=>{"stocks"=>60287495}}}, "cashflow"=>{"pretax"=>{"ss_income"=>6924528}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>6924528, "qualified_withdrawal"=>11999712, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>18924240}}},
      {"date"=>"2040-01-01", "accounts"=>{"AA"=>{"date"=>"2040-01-01", "total_balance"=>53888204, "type"=>"_401k", "balances"=>{"stocks"=>43179205, "bonds"=>10708999}}, "AB"=>{"date"=>"2040-01-01", "total_balance"=>62407782, "type"=>"roth_ira", "balances"=>{"stocks"=>43401518, "bonds"=>19006264}}, "AC"=>{"date"=>"2040-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2040-01-01", "total_balance"=>56244215, "type"=>"_401k", "balances"=>{"stocks"=>56244215}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7063032}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7063032, "qualified_withdrawal"=>12239712, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19302744}}},
      {"date"=>"2041-01-01", "accounts"=>{"AA"=>{"date"=>"2041-01-01", "total_balance"=>49443457, "type"=>"_401k", "balances"=>{"stocks"=>39767261, "bonds"=>9676196}}, "AB"=>{"date"=>"2041-01-01", "total_balance"=>65781590, "type"=>"roth_ira", "balances"=>{"stocks"=>46012952, "bonds"=>19768638}}, "AC"=>{"date"=>"2041-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2041-01-01", "total_balance"=>51799892, "type"=>"_401k", "balances"=>{"stocks"=>51799892}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7204284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7204284, "qualified_withdrawal"=>12484500, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>19688784}}},
      {"date"=>"2042-01-01", "accounts"=>{"AA"=>{"date"=>"2042-01-01", "total_balance"=>44609227, "type"=>"_401k", "balances"=>{"stocks"=>36012075, "bonds"=>8597152}}, "AB"=>{"date"=>"2042-01-01", "total_balance"=>69333113, "type"=>"roth_ira", "balances"=>{"stocks"=>48773729, "bonds"=>20559384}}, "AC"=>{"date"=>"2042-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2042-01-01", "total_balance"=>46908476, "type"=>"_401k", "balances"=>{"stocks"=>46908476}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7348368}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7348368, "qualified_withdrawal"=>12734196, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20082564}}},
      {"date"=>"2043-01-01", "accounts"=>{"AA"=>{"date"=>"2043-01-01", "total_balance"=>39368736, "type"=>"_401k", "balances"=>{"stocks"=>31897525, "bonds"=>7471211}}, "AB"=>{"date"=>"2043-01-01", "total_balance"=>73081912, "type"=>"roth_ira", "balances"=>{"stocks"=>51700153, "bonds"=>21381759}}, "AC"=>{"date"=>"2043-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2043-01-01", "total_balance"=>41548964, "type"=>"_401k", "balances"=>{"stocks"=>41548964}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7495332}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7495332, "qualified_withdrawal"=>12988872, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20484204}}},
      {"date"=>"2044-01-01", "accounts"=>{"AA"=>{"date"=>"2044-01-01", "total_balance"=>33695854, "type"=>"_401k", "balances"=>{"stocks"=>27399324, "bonds"=>6296530}}, "AB"=>{"date"=>"2044-01-01", "total_balance"=>77039192, "type"=>"roth_ira", "balances"=>{"stocks"=>54802163, "bonds"=>22237029}}, "AC"=>{"date"=>"2044-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2044-01-01", "total_balance"=>35689715, "type"=>"_401k", "balances"=>{"stocks"=>35689715}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7645236}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7645236, "qualified_withdrawal"=>13248648, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>20893884}}},
      {"date"=>"2045-01-01", "accounts"=>{"AA"=>{"date"=>"2045-01-01", "total_balance"=>27568032, "type"=>"_401k", "balances"=>{"stocks"=>22496099, "bonds"=>5071933}}, "AB"=>{"date"=>"2045-01-01", "total_balance"=>81228564, "type"=>"roth_ira", "balances"=>{"stocks"=>58099567, "bonds"=>23128997}}, "AC"=>{"date"=>"2045-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2045-01-01", "total_balance"=>29302890, "type"=>"_401k", "balances"=>{"stocks"=>29302890}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7798152}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7798152, "qualified_withdrawal"=>13513632, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21311784}}},
      {"date"=>"2046-01-01", "accounts"=>{"AA"=>{"date"=>"2046-01-01", "total_balance"=>20945861, "type"=>"_401k", "balances"=>{"stocks"=>17151804, "bonds"=>3794057}}, "AB"=>{"date"=>"2046-01-01", "total_balance"=>85639699, "type"=>"roth_ira", "balances"=>{"stocks"=>61585542, "bonds"=>24054157}}, "AC"=>{"date"=>"2046-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2046-01-01", "total_balance"=>22341542, "type"=>"_401k", "balances"=>{"stocks"=>22341542}}}, "cashflow"=>{"pretax"=>{"ss_income"=>7954116}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>7954116, "qualified_withdrawal"=>13783896, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>21738012}}},
      {"date"=>"2047-01-01", "accounts"=>{"AA"=>{"date"=>"2047-01-01", "total_balance"=>13803026, "type"=>"_401k", "balances"=>{"stocks"=>11341561, "bonds"=>2461465}}, "AB"=>{"date"=>"2047-01-01", "total_balance"=>90296997, "type"=>"roth_ira", "balances"=>{"stocks"=>65280674, "bonds"=>25016323}}, "AC"=>{"date"=>"2047-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2047-01-01", "total_balance"=>14773247, "type"=>"_401k", "balances"=>{"stocks"=>14773247}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8113200}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8113200, "qualified_withdrawal"=>14059572, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>22172772}}},
      {"date"=>"2048-01-01", "accounts"=>{"AA"=>{"date"=>"2048-01-01", "total_balance"=>6106460, "type"=>"_401k", "balances"=>{"stocks"=>5034447, "bonds"=>1072013}}, "AB"=>{"date"=>"2048-01-01", "total_balance"=>95214489, "type"=>"roth_ira", "balances"=>{"stocks"=>69197515, "bonds"=>26016974}}, "AC"=>{"date"=>"2048-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2048-01-01", "total_balance"=>6557748, "type"=>"_401k", "balances"=>{"stocks"=>6557748}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8275464}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8275464, "qualified_withdrawal"=>10644105, "roth_withdrawal"=>3696663, "regular_withdrawal"=>0, "total"=>22616232}}},
      {"date"=>"2049-01-01", "accounts"=>{"AA"=>{"date"=>"2049-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2049-01-01", "total_balance"=>96690802, "type"=>"roth_ira", "balances"=>{"stocks"=>70635588, "bonds"=>26055214}}, "AC"=>{"date"=>"2049-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2049-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8440968}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8440968, "qualified_withdrawal"=>0, "roth_withdrawal"=>14627580, "regular_withdrawal"=>0, "total"=>23068548}}},
      {"date"=>"2050-01-01", "accounts"=>{"AA"=>{"date"=>"2050-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2050-01-01", "total_balance"=>86912561, "type"=>"roth_ira", "balances"=>{"stocks"=>63816748, "bonds"=>23095813}}, "AC"=>{"date"=>"2050-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2050-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8609784}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8609784, "qualified_withdrawal"=>0, "roth_withdrawal"=>14920140, "regular_withdrawal"=>0, "total"=>23529924}}},
      {"date"=>"2051-01-01", "accounts"=>{"AA"=>{"date"=>"2051-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2051-01-01", "total_balance"=>76305035, "type"=>"roth_ira", "balances"=>{"stocks"=>56310360, "bonds"=>19994675}}, "AC"=>{"date"=>"2051-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2051-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8781984}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8781984, "qualified_withdrawal"=>0, "roth_withdrawal"=>15218544, "regular_withdrawal"=>0, "total"=>24000528}}},
      {"date"=>"2052-01-01", "accounts"=>{"AA"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2052-01-01", "total_balance"=>64815270, "type"=>"roth_ira", "balances"=>{"stocks"=>48068986, "bonds"=>16746284}}, "AC"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2052-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>8957616}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>8957616, "qualified_withdrawal"=>0, "roth_withdrawal"=>15522912, "regular_withdrawal"=>0, "total"=>24480528}}},
      {"date"=>"2053-01-01", "accounts"=>{"AA"=>{"date"=>"2053-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2053-01-01", "total_balance"=>52396727, "type"=>"roth_ira", "balances"=>{"stocks"=>39049896, "bonds"=>13346831}}, "AC"=>{"date"=>"2053-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2053-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9136776}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9136776, "qualified_withdrawal"=>0, "roth_withdrawal"=>15833364, "regular_withdrawal"=>0, "total"=>24970140}}},
      {"date"=>"2054-01-01", "accounts"=>{"AA"=>{"date"=>"2054-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2054-01-01", "total_balance"=>38971202, "type"=>"roth_ira", "balances"=>{"stocks"=>29184471, "bonds"=>9786731}}, "AC"=>{"date"=>"2054-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2054-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9319512}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9319512, "qualified_withdrawal"=>0, "roth_withdrawal"=>16150032, "regular_withdrawal"=>0, "total"=>25469544}}},
      {"date"=>"2055-01-01", "accounts"=>{"AA"=>{"date"=>"2055-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2055-01-01", "total_balance"=>24484680, "type"=>"roth_ira", "balances"=>{"stocks"=>18423205, "bonds"=>6061475}}, "AC"=>{"date"=>"2055-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2055-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9505896}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9505896, "qualified_withdrawal"=>0, "roth_withdrawal"=>16473036, "regular_withdrawal"=>0, "total"=>25978932}}},
      {"date"=>"2056-01-01", "accounts"=>{"AA"=>{"date"=>"2056-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2056-01-01", "total_balance"=>8870256, "type"=>"roth_ira", "balances"=>{"stocks"=>6705641, "bonds"=>2164615}}, "AC"=>{"date"=>"2056-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2056-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9696024}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9696024, "qualified_withdrawal"=>0, "roth_withdrawal"=>8978335, "regular_withdrawal"=>0, "total"=>18674359}}},
      {"date"=>"2057-01-01", "accounts"=>{"AA"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2057-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>9889944}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>9889944, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>9889944}}},
      {"date"=>"2058-01-01", "accounts"=>{"AA"=>{"date"=>"2058-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2058-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2058-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2058-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10087740}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10087740, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>10087740}}},
      {"date"=>"2059-01-01", "accounts"=>{"AA"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2059-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10289496}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10289496, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>10289496}}},
      {"date"=>"2060-01-01", "accounts"=>{"AA"=>{"date"=>"2060-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2060-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2060-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2060-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10495284}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10495284, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>10495284}}},
      {"date"=>"2061-01-01", "accounts"=>{"AA"=>{"date"=>"2061-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2061-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2061-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2061-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10705188}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10705188, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>10705188}}},
      {"date"=>"2062-01-01", "accounts"=>{"AA"=>{"date"=>"2062-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2062-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2062-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2062-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>10919280}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>10919280, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>10919280}}},
      {"date"=>"2063-01-01", "accounts"=>{"AA"=>{"date"=>"2063-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2063-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2063-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2063-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11137680}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11137680, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>11137680}}},
      {"date"=>"2064-01-01", "accounts"=>{"AA"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2064-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11360436}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11360436, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>11360436}}},
      {"date"=>"2065-01-01", "accounts"=>{"AA"=>{"date"=>"2065-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2065-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2065-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2065-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11587644}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11587644, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>11587644}}},
      {"date"=>"2066-01-01", "accounts"=>{"AA"=>{"date"=>"2066-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2066-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2066-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2066-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>{"pretax"=>{"ss_income"=>11819388}, "posttax"=>{"w2_income"=>0, "gty_income"=>0, "ss_income"=>11819388, "qualified_withdrawal"=>0, "roth_withdrawal"=>0, "regular_withdrawal"=>0, "total"=>11819388}}},
      {"date"=>"2067-01-01", "accounts"=>{"AA"=>{"date"=>"2067-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AB"=>{"date"=>"2067-01-01", "total_balance"=>0, "type"=>"roth_ira", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AC"=>{"date"=>"2067-01-01", "total_balance"=>0, "type"=>"brokerage", "balances"=>{"stocks"=>0, "bonds"=>0}}, "AF"=>{"date"=>"2067-01-01", "total_balance"=>0, "type"=>"_401k", "balances"=>{"stocks"=>0}}}, "cashflow"=>nil}
    ]
  end

  def print_results(results)
    puts "    ["
    puts "      "+results.map(&:inspect).join(",\n      ")
    puts "    ]"
  end
end
